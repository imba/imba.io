!function(t){var e={}
function n(r){if(e[r])return e[r].exports
var i=e[r]={i:r,l:!1,exports:{}}
return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t}
return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){t.exports=n(9)},function(t,e){var n={VERSION:"1.4.0",setTimeout:function(t,e){return setTimeout(function(){return e(),n.commit()},t)},setInterval:function(t,e){return setInterval(e,t)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},subclass:function(t,e){for(let n in e){let r
r=e[n],e.hasOwnProperty(n)&&(t[n]=r)}return t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.initialize=t.prototype.constructor=t,t},iterable:function(t){return t?t.toArray?t.toArray():t:[]},await:function(t){return t instanceof Array?(console.warn("await (Array) is deprecated - use await Promise.all(Array)"),Promise.all(t)):t&&t.then?t:Promise.resolve(t)}},r=/-./g,i={}
n.toCamelCase=function(t){return t.indexOf("-")>=0?t.replace(r,function(t){return t.charAt(1).toUpperCase()}):t},n.toSetter=function(t){return i[t]||(i[t]=n.toCamelCase("set-"+t))},n.indexOf=function(t,e){return e&&e.indexOf?e.indexOf(t):[].indexOf.call(t,e)},n.len=function(t){return t&&(t.len instanceof Function?t.len.call(t):t.length)||0},n.prop=function(t,e,n){if(t.defineProperty)return t.defineProperty(e,n)},n.attr=function(t,e,r){if(void 0===r&&(r={}),t.defineAttribute)return t.defineAttribute(e,r)
let i=n.toCamelCase(e),o=n.toCamelCase("set-"+e),s=t.prototype
r.dom?(s[i]=function(){return this.dom()[e]},s[o]=function(t){return t!=this[e]()&&(this.dom()[e]=t),this}):(s[i]=function(){return this.getAttribute(e)},s[o]=function(t){return this.setAttribute(e,t),this})},n.propDidSet=function(t,e,n,r){let i=e.watch
i instanceof Function?i.call(t,n,r,e):("string"==typeof i||i instanceof String)&&t[i]&&t[i](n,r,e)}
var o=function(t,e,n){for(var r,i;(r=n)&&(n=n.next);)(i=n.listener)&&(n.path&&i[n.path]?e?i[n.path].apply(i,e):i[n.path]():e?i.apply(n,e):i.call(n)),n.times&&--n.times<=0&&(r.next=n.next,n.listener=null)}
n.listen=function(t,e,n,r){var i,o,s
return(s=(o=(i=t.__listeners__||(t.__listeners__={}))[e]||(i[e]={})).tail||(o.tail=o.next={})).listener=n,s.path=r,o.tail=s.next={},s},n.once=function(t,e,r){var i=n.listen(t,e,r)
return i.times=1,i},n.unlisten=function(t,e,n,r){var i,o,s=t.__listeners__
if(s&&(i=s[e]))for(;(o=i)&&(i=i.next);)if(i==n||i.listener==n){o.next=i.next,i.listener=null
break}},n.emit=function(t,e,n){var r;(r=t.__listeners__)&&(r[e]&&o(0,n,r[e]),r.all&&o(0,[e,n],r.all))},n.observeProperty=function(t,e,r,i,o){return o&&"object"==typeof o&&n.unlisten(o,"all",t,r),i&&"object"==typeof i&&n.listen(i,"all",t,r),this},t.exports=n},function(t,e,n){var r=n(0).defineTag("Page")
e.Page=r},function(module,exports,__webpack_require__){var Imba=__webpack_require__(0),_1=Imba.createElement,Snippet=Imba.defineTag("Snippet",function(tag){tag.prototype.src=function(t){return this._src},tag.prototype.setSrc=function(t){return this._src=t,this},tag.prototype.heading=function(t){return this._heading},tag.prototype.setHeading=function(t){return this._heading=t,this},tag.prototype.hl=function(t){return this._hl},tag.prototype.setHl=function(t){return this._hl=t,this},tag.replace=function(t){let e={title:t.dataset.title},n=t.firstChild
for(var r;n;)(r=n.dataset.lang)&&(e[r]={code:n.textContent,html:n.innerHTML}),n=n.nextElementSibling
let i=_1(Snippet).setData(e).end()
return t.parentNode.replaceChild(i.dom(),t),i},tag.prototype.setup=function(){let t=this.data().imba||this.data().js
return this._runnable=t&&t.code.indexOf("Imba.mount")>=0,this.render(),this._code.dom().innerHTML=t.html,this._runnable&&this.run(),this},tag.prototype.run=function(){var self=this,orig=Imba.mount,js=self.data().js.code
js=js.replace("require('imba')","window.Imba")
try{Imba.mount=function(t){return orig.call(Imba,t,self._result.dom())},eval(js)}catch(t){}return Imba.mount=orig,self},tag.prototype.render=function(){var t=this.$
return this.$open(0).flag("snippet").setChildren([this.data().title?(t[0]||_1("h4",t,0,this)).setContent(this.data().title,3):void 0,this._code=this._code||_1("code",this).flag("code"),this._runnable?this._result=this._result||_1("div",this).flag("result").flag("styled-example"):void 0],1).synced()}})
exports.Snippet=Snippet
var Example=Imba.defineTag("Example",Snippet,function(t){t.prototype.render=function(){return this.$open(0).setText("Example").synced()}})
exports.Example=Example},function(t,e){var n
n=function(){return this}()
try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(1)
r.Pointer=function(){return this._button=-1,this._event={x:0,y:0,type:"uninitialized"},this},r.Pointer.prototype.button=function(){return this._button},r.Pointer.prototype.touch=function(){return this._touch},r.Pointer.prototype.update=function(t){return this._event=t,this._dirty=!0,this},r.Pointer.prototype.process=function(){var t=this._event
if(this._dirty)if(this._prevEvent=t,this._dirty=!1,"mousedown"==t.type){if(this._button=t.button,this._touch&&0!=this._button)return
this._touch&&this._touch.cancel(),this._touch=new r.Touch(t,this),this._touch.mousedown(t,t)}else"mousemove"==t.type?this._touch&&this._touch.mousemove(t,t):"mouseup"==t.type&&(this._button=-1,this._touch&&this._touch.button()==t.button&&(this._touch.mouseup(t,t),this._touch=null))
else this._touch&&this._touch.idle()
return this},r.Pointer.prototype.x=function(){return this._event.x},r.Pointer.prototype.y=function(){return this._event.y}},function(t,e,n){var r=n(0),i=r.createElement,o=r.defineTag("Logo",function(t){t.prototype.render=function(){var t=this.$
return this.$open(0).setChildren(t[0]||i("svg:svg",t,0,this).set("xmlns","http://www.w3.org/2000/svg").set("width","116").set("height","108").set("viewBox","0 0 116 108").setContent(t[1]||i("svg:g",t,1,0).set("fill","#3E91FF").set("fill-rule","evenodd").setContent(t[2]||i("svg:path",t,2,1).set("d","M38.8638869 68.1351424C39.5073476 69.57271 39.6890057 70.9547825 39.4088666 72.2814014 39.1287276 73.6080204 38.4437022 74.6096805 37.3537699 75.2864118 36.2638375 75.9631432 35.0187288 76.1517033 33.6184062 75.8520979 32.7123152 75.6582356 31.735207 75.1892035 30.6870523 74.4449875 28.9429109 72.511945 26.9954547 70.3187797 24.8446252 67.8654257 22.6937958 65.4120718 20.5105674 62.9084866 18.2948748 60.3545951 16.0791821 57.8007035 13.9003309 55.2763902 11.7582558 52.7815794 9.61618066 50.2867686 7.6319162 48.0640634 5.80540286 46.113397 4.76759128 44.5047965 4.39751492 42.9957526 4.69516266 41.58622 5.04533648 39.9279464 6.13425543 38.6444027 7.96195216 37.7355506L11.2147227 36.0916942C12.9013528 35.23932 14.9406188 34.2457658 17.3325818 33.1110021 19.7245448 31.9762383 22.2456979 30.7391523 24.8961167 29.3997071 27.5465356 28.0602619 30.0676887 26.8231759 32.4596517 25.6884121 34.8516147 24.5536483 36.9158504 23.543772 38.6524209 22.6587528 40.3889914 21.7737337 41.4482676 21.2421093 41.8302813 21.0638636 43.5935059 20.2285156 53.6162109 18.7922363 52.4217391 22.7325491L47.9115556 39.8008309C47.8077805 40.1935561 47.476752 40.4844863 47.0739524 40.536973L18.065609 44.3168991C19.4504169 45.9130813 21.0635148 47.7530692 22.9049511 49.836918 24.7463873 51.9207668 26.5996344 54.0504464 28.4647479 56.2260208 30.3298615 58.4015952 32.1831086 60.5312748 34.0245448 62.6151236 35.8659811 64.6989723 37.479079 66.5389602 38.8638869 68.1351424zM67.2090353 76.2221773C65.9199285 77.108676 65.0557147 78.1844225 64.616368 79.4494491 64.1770213 80.7144756 64.2517959 81.9117897 64.840694 83.0414271 65.4295921 84.1710644 66.4018778 84.967275 67.7575804 85.4300825 68.6347998 85.7295462 69.7140012 85.8326519 70.9952172 85.7394025 73.4831625 84.996847 76.2789554 84.1383159 79.3826799 83.1637834 82.4864043 82.1892508 85.6436845 81.1888133 88.8546153 80.1624406 92.0655461 79.1360679 95.2296911 78.1158645 98.3471451 77.1018 101.464599 76.0877354 104.30713 75.2230503 106.874822 74.5077187 108.590124 73.6782757 109.681162 72.5915252 110.147968 71.2474344 110.697151 69.6661512 110.420092 68.0239253 109.316783 66.3207074L107.366721 63.2671813C106.355574 61.6838635 105.11404 59.8008236 103.642084 57.6180053 102.170128 55.4351869 100.6397 53.0997773 99.0507529 50.6117065 97.4618062 48.1236357 95.9313778 45.7882262 94.4594217 43.6054078 92.9874656 41.4225894 91.7328604 39.5129779 90.6955685 37.8765161 89.6582766 36.2400542 89.0213345 35.248794 88.7847232 34.9027056 87.3457031 32.7919922 80.3010254 26.2080078 78.8369005 30.8970692L73.9654789 47.6242056C73.8513184 48.0162014 73.9869249 48.4382316 74.3080551 48.6903601L97.2701725 66.7185771C95.2633408 67.3600601 92.9355824 68.0909485 90.2868275 68.9112643 87.6380726 69.7315801 84.9556916 70.5846092 82.2396039 71.4703772 79.5235163 72.3561452 76.8411352 73.2091743 74.1923803 74.0294902 71.5436255 74.849806 69.2158671 75.5806944 67.2090353 76.2221773zM65.4501401 8.01131118C66.3107935 6.48608129 67.3093706 5.43525523 68.4459012 4.85880147 69.5824318 4.28234771 70.7322595 4.14743206 71.8954188 4.45405048 72.9754953 4.73876759 73.8930671 5.37486487 74.6481616 6.36236141 75.4032562 7.34985795 75.7770161 8.67483946 75.7694527 10.3373457L51.392716 99.8387197C50.7976079 101.696765 49.8527941 102.958873 48.5582463 103.62508 47.2636986 104.291287 45.9933227 104.460128 44.7470806 104.131608 43.5839212 103.82499 42.6207345 103.111165 41.8574915 101.990113 41.0942485 100.86906 40.8328884 99.3765993 41.0734034 97.5126852L65.4501401 8.01131118z"),2),2),2).synced((t[0].end((t[1].end((t[2].end(),!0)),!0)),!0))}})
e.Logo=o},function(t,e,n){n(8),t.exports=n(30)},function(t,e,n){var r=n(0),i=r.createElement,o=n(19).App,s=n(20).Site
document.body.innerHTML="",r.mount(i(s).setData(APP=o.deserialize(APPCACHE)).end())},function(t,e,n){(function(e){var r=n(1),i=!1,o="undefined"!=typeof window?window:void 0!==e?e:null
o&&o.Imba?(console.warn("Imba v"+o.Imba.VERSION+" is already loaded."),r=o.Imba):o&&(o.Imba=r,i=!0,o.define&&o.define.amd&&o.define("imba",[],function(){return r})),t.exports=r,n(10),n(11),i&&r.EventManager.activate()}).call(e,n(4))},function(t,e,n){var r,i,o=n(1)
function s(){var t=this
t._queue=[],t._stage=-1,t._scheduled=!1,t._ticker=function(e){return t._scheduled=!1,t.tick(e)}}i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame,(r=window.requestAnimationFrame)||(r=window.webkitRequestAnimationFrame),r||(r=window.mozRequestAnimationFrame),r||(r=function(t){return setTimeout(t,1e3/60)}),s.prototype.stage=function(t){return this._stage},s.prototype.setStage=function(t){return this._stage=t,this},s.prototype.queue=function(t){return this._queue},s.prototype.setQueue=function(t){return this._queue=t,this},s.prototype.add=function(t,e){if((e||-1==this._queue.indexOf(t))&&this._queue.push(t),!this._scheduled)return this.schedule()},s.prototype.tick=function(t){var e,n=this._queue
if(this._ts||(this._ts=t),this._dt=t-this._ts,this._ts=t,this._queue=[],this._stage=1,this.before(),n.length)for(let t,r=0,i=(e=n)?e.toArray?e.toArray():e:[],o=i.length;r<o;r++)(t=i[r])instanceof Function?t(this._dt,this):t.tick&&t.tick(this._dt,this)
return this._stage=2,this.after(),this._stage=this._scheduled?0:-1,this},s.prototype.schedule=function(){return this._scheduled||(this._scheduled=!0,-1==this._stage&&(this._stage=0),r(this._ticker)),this},s.prototype.before=function(){return this},s.prototype.after=function(){return o.TagManager&&o.TagManager.refresh(),this},o.TICKER=new s,o.SCHEDULERS=[],o.ticker=function(){return o.TICKER},o.requestAnimationFrame=function(t){return r(t)},o.cancelAnimationFrame=function(t){return i(t)}
var a=0
o.commit=function(t){a++,o.emit(o,"commit",void 0!=t?[t]:void 0),0==--a&&o.TagManager&&o.TagManager.refresh()},o.Scheduler=function(t){var e=this
e._id=u++,e._target=t,e._marked=!1,e._active=!1,e._marker=function(){return e.mark()},e._ticker=function(t){return e.tick(t)},e._dt=0,e._frame={},e._scheduled=!1,e._timestamp=0,e._ticks=0,e._flushes=0,e.onevent=e.onevent.bind(e)}
var u=0
o.Scheduler.event=function(t){return o.emit(o,"event",t)},o.Scheduler.prototype.__raf={watch:"rafDidSet",name:"raf"},o.Scheduler.prototype.raf=function(t){return this._raf},o.Scheduler.prototype.setRaf=function(t){var e=this.raf()
return t!=e&&(this._raf=t),t!=e&&this.rafDidSet&&this.rafDidSet(t,e,this.__raf),this},o.Scheduler.prototype.__interval={watch:"intervalDidSet",name:"interval"},o.Scheduler.prototype.interval=function(t){return this._interval},o.Scheduler.prototype.setInterval=function(t){var e=this.interval()
return t!=e&&(this._interval=t),t!=e&&this.intervalDidSet&&this.intervalDidSet(t,e,this.__interval),this},o.Scheduler.prototype.__events={watch:"eventsDidSet",name:"events"},o.Scheduler.prototype.events=function(t){return this._events},o.Scheduler.prototype.setEvents=function(t){var e=this.events()
return t!=e&&(this._events=t),t!=e&&this.eventsDidSet&&this.eventsDidSet(t,e,this.__events),this},o.Scheduler.prototype.marked=function(t){return this._marked},o.Scheduler.prototype.setMarked=function(t){return this._marked=t,this},o.Scheduler.prototype.rafDidSet=function(t){return t&&this._active&&this.requestTick(),this},o.Scheduler.prototype.intervalDidSet=function(t){return clearInterval(this._intervalId),this._intervalId=null,t&&this._active&&(this._intervalId=setInterval(this.oninterval.bind(this),t)),this},o.Scheduler.prototype.eventsDidSet=function(t,e){return this._active&&t&&!e?o.listen(o,"commit",this,"onevent"):!t&&e?o.unlisten(o,"commit",this,"onevent"):void 0},o.Scheduler.prototype.active=function(){return this._active},o.Scheduler.prototype.dt=function(){return this._dt},o.Scheduler.prototype.configure=function(t){return void 0===t&&(t={}),void 0!=t.raf&&this.setRaf(t.raf),void 0!=t.interval&&this.setInterval(t.interval),void 0!=t.events&&this.setEvents(t.events),this},o.Scheduler.prototype.mark=function(){return this._marked=!0,this._scheduled||this.requestTick(),this},o.Scheduler.prototype.flush=function(){return this._flushes++,this._target.tick(this),this._marked=!1,this},o.Scheduler.prototype.tick=function(t,e){return this._ticks++,this._dt=t,e&&(this._scheduled=!1),this.flush(),this._raf&&this._active&&this.requestTick(),this},o.Scheduler.prototype.requestTick=function(){return this._scheduled||(this._scheduled=!0,o.TICKER.add(this)),this},o.Scheduler.prototype.activate=function(t){return void 0===t&&(t=!0),this._active||(this._active=!0,this._commit=this._target.commit,this._target.commit=function(){return this},this._target&&this._target.flag&&this._target.flag("scheduled_"),o.SCHEDULERS.push(this),this._events&&o.listen(o,"commit",this,"onevent"),this._interval&&!this._intervalId&&(this._intervalId=setInterval(this.oninterval.bind(this),this._interval)),t?this.tick(0):this._raf&&this.requestTick()),this},o.Scheduler.prototype.deactivate=function(){if(this._active){this._active=!1,this._target.commit=this._commit
let t=o.SCHEDULERS.indexOf(this)
t>=0&&o.SCHEDULERS.splice(t,1),this._events&&o.unlisten(o,"commit",this,"onevent"),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._target&&this._target.unflag&&this._target.unflag("scheduled_")}return this},o.Scheduler.prototype.track=function(){return this._marker},o.Scheduler.prototype.oninterval=function(){return this.tick(),o.TagManager.refresh(),this},o.Scheduler.prototype.onevent=function(t){return!this._events||this._marked?this:(this._events instanceof Function?this._events(t,this)&&this.mark():this._events instanceof Array?this._events.indexOf(t&&t.type||t)>=0&&this.mark():this.mark(),this)}},function(t,e,n){var r=n(1)
n(12),n(13),r.TagManager=new r.TagManagerClass,n(14),n(15),n(5),n(16),n(17),n(18)},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1)
i.TagManagerClass=function(){this._inserts=0,this._removes=0,this._mounted=[],this._mountables=0,this._unmountables=0,this._unmounting=0},i.TagManagerClass.prototype.mounted=function(){return this._mounted},i.TagManagerClass.prototype.insert=function(t,e){this._inserts++,t&&t.mount&&this.regMountable(t)},i.TagManagerClass.prototype.remove=function(t,e){return this._removes++},i.TagManagerClass.prototype.changes=function(){return this._inserts+this._removes},i.TagManagerClass.prototype.mount=function(t){},i.TagManagerClass.prototype.refresh=function(t){if(void 0===t&&(t=!1),t||0!=this.changes())return(this._inserts&&this._mountables>this._mounted.length||t)&&this.tryMount(),(this._removes||t)&&this._mounted.length&&this.tryUnmount(),this._inserts=0,this._removes=0,this},i.TagManagerClass.prototype.unmount=function(t){return this},i.TagManagerClass.prototype.regMountable=function(t){if(!(t.FLAGS&i.TAG_MOUNTABLE))return t.FLAGS|=i.TAG_MOUNTABLE,this._mountables++},i.TagManagerClass.prototype.tryMount=function(){for(let t,e=0,n=r(document.body.querySelectorAll(".__mount")),i=n.length;e<i;e++)(t=n[e])&&t._tag&&-1==this._mounted.indexOf(t._tag)&&this.mountNode(t._tag)
return this},i.TagManagerClass.prototype.mountNode=function(t){-1==this._mounted.indexOf(t)&&(this.regMountable(t),this._mounted.push(t),t.FLAGS|=i.TAG_MOUNTED,t.mount&&t.mount())},i.TagManagerClass.prototype.tryUnmount=function(){this._unmounting++
var t=[]
document.body
for(let e,n=0,i=r(this._mounted),o=i.length;n<o;n++)(e=i[n])&&(document.documentElement.contains(e._dom)||(t.push(e),this._mounted[n]=null))
if(this._unmounting--,t.length){this._mounted=this._mounted.filter(function(e){return e&&-1==t.indexOf(e)})
for(let e,n=0,r=t.length;n<r;n++)(e=t[n]).FLAGS=e.FLAGS&~i.TAG_MOUNTED,e.unmount&&e._dom?e.unmount():e._scheduler&&e.unschedule()}return this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1)
n(5)
var o=["keydown","keyup","keypress","textInput","input","change","submit","focusin","focusout","focus","blur","contextmenu","selectstart","dblclick","selectionchange","mousewheel","wheel","scroll","beforecopy","copy","beforepaste","paste","beforecut","cut","dragstart","drag","dragend","dragenter","dragover","dragleave","dragexit","drop","mouseup","mousedown","mouseenter","mouseleave","mouseout","mouseover","mousemove"]
i.EventManager=function(t,e){var n=this
e&&e.constructor===Object||(e={})
var i=void 0!==e.events?e.events:[]
n._shimFocusEvents=window.netscape&&void 0===t.onfocusin,n.setRoot(t),n.setListeners([]),n.setDelegators({}),n.setDelegator(function(t){return n.delegate(t),!0})
for(let t=0,e=r(i),o=e.length;t<o;t++)n.register(e[t])
return n},i.EventManager.prototype.root=function(t){return this._root},i.EventManager.prototype.setRoot=function(t){return this._root=t,this},i.EventManager.prototype.count=function(t){return this._count},i.EventManager.prototype.setCount=function(t){return this._count=t,this},i.EventManager.prototype.__enabled={default:!1,watch:"enabledDidSet",name:"enabled"},i.EventManager.prototype.enabled=function(t){return this._enabled},i.EventManager.prototype.setEnabled=function(t){var e=this.enabled()
return t!=e&&(this._enabled=t),t!=e&&this.enabledDidSet&&this.enabledDidSet(t,e,this.__enabled),this},i.EventManager.prototype._enabled=!1,i.EventManager.prototype.listeners=function(t){return this._listeners},i.EventManager.prototype.setListeners=function(t){return this._listeners=t,this},i.EventManager.prototype.delegators=function(t){return this._delegators},i.EventManager.prototype.setDelegators=function(t){return this._delegators=t,this},i.EventManager.prototype.delegator=function(t){return this._delegator},i.EventManager.prototype.setDelegator=function(t){return this._delegator=t,this}
var s=[]
i.EventManager.prototype.enabledDidSet=function(t){return t?this.onenable():this.ondisable(),this},i.EventManager.bind=function(t){return i.Events?i.Events.autoregister(t):-1==s.indexOf(t)&&o.indexOf(t)>=0?s.push(t):void 0},i.EventManager.activate=function(){return i.Events?i.Events:(i.Events=new i.EventManager(i.document(),{events:[]}),i.POINTER||(i.POINTER=new i.Pointer),window&&void 0!==window.ontouchstart&&(i.Events.listen("touchstart",function(t){return i.Touch.ontouchstart(t)}),i.Events.listen("touchmove",function(t){return i.Touch.ontouchmove(t)}),i.Events.listen("touchend",function(t){return i.Touch.ontouchend(t)}),i.Events.listen("touchcancel",function(t){return i.Touch.ontouchcancel(t)})),i.Events.register("click",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout){t._imbaSimulatedTap=!0
var e=new i.Event(t)
if(e.setType("tap"),e.process(),e._responder&&e.defaultPrevented)return t.preventDefault()}return i.Events.delegate(t)}),i.Events.listen("mousedown",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout&&i.POINTER)return i.POINTER.update(t).process()}),i.Events.listen("mouseup",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout&&i.POINTER)return i.POINTER.update(t).process()}),i.Events.register(["mousedown","mouseup"]),i.Events.register(s),i.Events.setEnabled(!0),i.Events)},i.EventManager.prototype.register=function(t,e){if(void 0===e&&(e=!0),t instanceof Array){for(let n=0,i=r(t),o=i.length;n<o;n++)this.register(i[n],e)
return this}if(this.delegators()[t])return this
var n=this.delegators()[t]=e instanceof Function?e:this.delegator()
return this.enabled()?this.root().addEventListener(t,n,!0):void 0},i.EventManager.prototype.autoregister=function(t){return-1==o.indexOf(t)?this:this.register(t)},i.EventManager.prototype.listen=function(t,e,n){return void 0===n&&(n=!0),this.listeners().push([t,e,n]),this.enabled()&&this.root().addEventListener(t,e,n),this},i.EventManager.prototype.delegate=function(t){return i.Event.wrap(t).process(),this._shimFocusEvents&&("focus"==t.type?i.Event.wrap(t).setType("focusin").process():"blur"==t.type&&i.Event.wrap(t).setType("focusout").process()),this},i.EventManager.prototype.create=function(t,e,n){n&&n.constructor===Object||(n={})
var r=void 0!==n.data?n.data:null,o=void 0!==n.source?n.source:null,s=i.Event.wrap({type:t,target:e})
return r&&s.setData(r),o&&s.setSource(o),s},i.EventManager.prototype.trigger=function(){return this.create.apply(this,arguments).process()},i.EventManager.prototype.onenable=function(){for(let t,e,n=this.delegators(),r=0,i=Object.keys(n),o=i.length;r<o;r++)t=n[e=i[r]],this.root().addEventListener(e,t,!0)
for(let t,e=0,n=r(this.listeners()),i=n.length;e<i;e++)t=n[e],this.root().addEventListener(t[0],t[1],t[2])
return window.addEventListener("hashchange",i.commit),window.addEventListener("popstate",i.commit),this},i.EventManager.prototype.ondisable=function(){for(let t,e,n=this.delegators(),r=0,i=Object.keys(n),o=i.length;r<o;r++)t=n[e=i[r]],this.root().removeEventListener(e,t,!0)
for(let t,e=0,n=r(this.listeners()),i=n.length;e<i;e++)t=n[e],this.root().removeEventListener(t[0],t[1],t[2])
return window.removeEventListener("hashchange",i.commit),window.removeEventListener("popstate",i.commit),this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1)
i.CSSKeyMap={},i.TAG_BUILT=1,i.TAG_SETUP=2,i.TAG_MOUNTING=4,i.TAG_MOUNTED=8,i.TAG_SCHEDULED=16,i.TAG_AWAKENED=32,i.TAG_MOUNTABLE=64,i.document=function(){return window.document},i.root=function(){return i.getTagForDom(i.document().body)},i.static=function(t,e,n){return t._type=e,t.static=n,t},i.mount=function(t,e){return e||(e=i.document().body),e.appendChild(t.dom()),i.TagManager.insert(t,e),t.scheduler().configure({events:!0}).activate(!1),i.TagManager.refresh(),t},i.createTextNode=function(t){return t&&3==t.nodeType?t:i.document().createTextNode(t)},i.Tag=function(t,e){this.setDom(t),this.$=o.build(this),this.$up=this._owner_=e,this._tree_=null,this.FLAGS=0,this.build()},i.Tag.buildNode=function(){var t=i.document().createElement(this._nodeType||"div")
if(this._classes){var e=this._classes.join(" ")
e&&(t.className=e)}return t},i.Tag.createNode=function(){return(this._protoDom||(this._protoDom=this.buildNode())).cloneNode(!1)},i.Tag.build=function(t){return new this(this.createNode(),t)},i.Tag.dom=function(){return this._protoDom||(this._protoDom=this.buildNode())},i.Tag.end=function(){return this.commit(0)},i.Tag.inherit=function(t){return t._protoDom=null,this._nodeType?(t._nodeType=this._nodeType,t._classes=this._classes.slice(),t._flagName?t._classes.push(t._flagName):void 0):(t._nodeType=t._name,t._flagName=null,t._classes=[])},i.Tag.prototype.optimizeTagStructure=function(){var t=this.constructor
let e=Object.keys(this)
e.indexOf("mount")>=0&&(t._classes&&-1==t._classes.indexOf("__mount")&&t._classes.push("__mount"),t._protoDom&&t._protoDom.classList.add("__mount"))
for(let t,n=0,o=r(e),s=o.length;n<s;n++)t=o[n],/^on/.test(t)&&i.EventManager.bind(t.slice(2))
return this},i.attr(i.Tag,"name"),i.attr(i.Tag,"role"),i.attr(i.Tag,"tabindex"),i.Tag.prototype.title=function(t){return this.getAttribute("title")},i.Tag.prototype.setTitle=function(t){return this.setAttribute("title",t),this},i.Tag.prototype.dom=function(){return this._dom},i.Tag.prototype.setDom=function(t){return t._tag=this,this._dom=this._slot_=t,this},i.Tag.prototype.ref=function(){return this._ref},i.Tag.prototype.root=function(){return this._owner_?this._owner_.root():this},i.Tag.prototype.ref_=function(t){return this.flag(this._ref=t),this},i.Tag.prototype.setData=function(t){return this._data=t,this},i.Tag.prototype.data=function(){return this._data},i.Tag.prototype.bindData=function(t,e,n){return this.setData(n?t[e].apply(t,n):t[e])},i.Tag.prototype.setHtml=function(t){return this.html()!=t&&(this._dom.innerHTML=t),this},i.Tag.prototype.html=function(){return this._dom.innerHTML},i.Tag.prototype.on$=function(t,e,n){let r=this._on_||(this._on_=[]),o=r[t]
return t<0&&(t=void 0==o?r[t]=r.length:o,o=r[t]),r[t]=e,o?e.state=o.state:(e.state={context:n},i.EventManager.bind(e[0])),this},i.Tag.prototype.setId=function(t){return null!=t&&(this.dom().id=t),this},i.Tag.prototype.id=function(){return this.dom().id},i.Tag.prototype.setAttribute=function(t,e){return this.dom().getAttribute(t)==e||(null!=e&&!1!==e?this.dom().setAttribute(t,e):this.dom().removeAttribute(t)),this},i.Tag.prototype.setNestedAttr=function(t,e,n,r){return this[t+"SetAttribute"]?this[t+"SetAttribute"](e,n,r):this.setAttributeNS(t,e,n),this},i.Tag.prototype.setAttributeNS=function(t,e,n){return this.getAttributeNS(t,e)!=n&&(null!=n&&!1!==n?this.dom().setAttributeNS(t,e,n):this.dom().removeAttributeNS(t,e)),this},i.Tag.prototype.removeAttribute=function(t){return this.dom().removeAttribute(t)},i.Tag.prototype.getAttribute=function(t){return this.dom().getAttribute(t)},i.Tag.prototype.getAttributeNS=function(t,e){return this.dom().getAttributeNS(t,e)},i.Tag.prototype.set=function(t,e,n){let r=i.toSetter(t)
return this[r]instanceof Function?this[r](e,n):this._dom.setAttribute(t,e),this},i.Tag.prototype.get=function(t){return this._dom.getAttribute(t)},i.Tag.prototype.setContent=function(t,e){return this.setChildren(t,e),this},i.Tag.prototype.setChildren=function(t,e){return this._tree_=t,this},i.Tag.prototype.setTemplate=function(t){return this._template||this.render==i.Tag.prototype.render&&(this.render=this.renderTemplate),this.template=this._template=t,this},i.Tag.prototype.template=function(){return null},i.Tag.prototype.renderTemplate=function(){var t=this.template()
return t!=this&&this.setChildren(t),this},i.Tag.prototype.removeChild=function(t){var e=this.dom(),n=t._slot_||t
return n&&n.parentNode==e&&(i.TagManager.remove(n._tag||n,this),e.removeChild(n)),this},i.Tag.prototype.removeAllChildren=function(){if(this._dom.firstChild)for(var t;t=this._dom.firstChild;)i.TagManager.remove(t._tag||t,this),this._dom.removeChild(t)
return this._tree_=this._text_=null,this},i.Tag.prototype.appendChild=function(t){return"string"==typeof t||t instanceof String?this.dom().appendChild(i.document().createTextNode(t)):t&&(this.dom().appendChild(t._slot_||t),i.TagManager.insert(t._tag||t,this)),this},i.Tag.prototype.insertBefore=function(t,e){return("string"==typeof t||t instanceof String)&&(t=i.document().createTextNode(t)),t&&e&&(this.dom().insertBefore(t._slot_||t,e._slot_||e),i.TagManager.insert(t._tag||t,this)),this},i.Tag.prototype.detachFromParent=function(){return this._slot_==this._dom&&(this._slot_=this._dom._placeholder_||(this._dom._placeholder_=i.document().createComment("node")),this._slot_._tag||(this._slot_._tag=this),this._dom.parentNode&&(i.TagManager.remove(this,this._dom.parentNode),this._dom.parentNode.replaceChild(this._slot_,this._dom))),this},i.Tag.prototype.attachToParent=function(){if(this._slot_!=this._dom){let t=this._slot_
this._slot_=this._dom,t&&t.parentNode&&(i.TagManager.insert(this),t.parentNode.replaceChild(this._dom,t))}return this},i.Tag.prototype.orphanize=function(){var t
return(t=this.parent())&&t.removeChild(this),this},i.Tag.prototype.text=function(t){return this._dom.textContent},i.Tag.prototype.setText=function(t){return this._tree_=t,this._dom.textContent=null==t||!1===this.text()?"":t,this},i.Tag.prototype.dataset=function(t,e){if(t instanceof Object){for(let e,n,r=0,i=Object.keys(t),o=i.length;r<o;r++)e=t[n=i[r]],this.dataset(n,e)
return this}if(2==arguments.length)return this.setAttribute("data-"+t,e),this
if(t)return this.getAttribute("data-"+t)
var n=this.dom().dataset
if(!n){n={}
for(let t,e=0,o=r(this.dom().attributes),s=o.length;e<s;e++)"data-"==(t=o[e]).name.substr(0,5)&&(n[i.toCamelCase(t.name.slice(5))]=t.value)}return n},i.Tag.prototype.render=function(){return this},i.Tag.prototype.build=function(){return this},i.Tag.prototype.setup=function(){return this},i.Tag.prototype.commit=function(){return!1!==this.beforeRender()&&this.render(),this},i.Tag.prototype.beforeRender=function(){return this},i.Tag.prototype.tick=function(){return!1!==this.beforeRender()&&this.render(),this},i.Tag.prototype.end=function(){return this.setup(),this.commit(0),this.end=i.Tag.end,this},i.Tag.prototype.$open=function(t){return t!=this._context_&&(this._tree_=null,this._context_=t),this},i.Tag.prototype.synced=function(){return this},i.Tag.prototype.awaken=function(){return this},i.Tag.prototype.flags=function(){return this._dom.classList},i.Tag.prototype.flag=function(t,e){return 2==arguments.length?this._dom.classList.contains(t)!=!!e&&this._dom.classList.toggle(t):this._dom.classList.contains(t)||this._dom.classList.add(t),this},i.Tag.prototype.unflag=function(t){return this._dom.classList.remove(t),this},i.Tag.prototype.toggleFlag=function(t){return this._dom.classList.toggle(t),this},i.Tag.prototype.hasFlag=function(t){return this._dom.classList.contains(t)},i.Tag.prototype.flagIf=function(t,e){var n=this._flags_||(this._flags_={})
let r=n[t]
return e&&!r?(this._dom.classList.add(t),n[t]=!0):r&&!e&&(this._dom.classList.remove(t),n[t]=!1),this},i.Tag.prototype.setFlag=function(t,e){let n=this._namedFlags_||(this._namedFlags_={}),r=n[t]
return r!=e&&(r&&this.unflag(r),e&&this.flag(e),n[t]=e),this},i.Tag.prototype.scheduler=function(){return null==this._scheduler?this._scheduler=new i.Scheduler(this):this._scheduler},i.Tag.prototype.schedule=function(t){return void 0===t&&(t={events:!0}),this.scheduler().configure(t).activate(),this},i.Tag.prototype.unschedule=function(){return this._scheduler&&this.scheduler().deactivate(),this},i.Tag.prototype.parent=function(){return i.getTagForDom(this.dom().parentNode)},i.Tag.prototype.children=function(t){let e=[]
for(let t,n=0,o=r(this._dom.children),s=o.length;n<s;n++)t=o[n],e.push(t._tag||i.getTagForDom(t))
return e},i.Tag.prototype.querySelector=function(t){return i.getTagForDom(this._dom.querySelector(t))},i.Tag.prototype.querySelectorAll=function(t){var e=[]
for(let n=0,o=r(this._dom.querySelectorAll(t)),s=o.length;n<s;n++)e.push(i.getTagForDom(o[n]))
return e},i.Tag.prototype.matches=function(t){var e
return t instanceof Function?t(this):(t.query instanceof Function&&(t=t.query()),(e=this._dom.matches||this._dom.matchesSelector||this._dom.webkitMatchesSelector||this._dom.msMatchesSelector||this._dom.mozMatchesSelector)?e.call(this._dom,t):void 0)},i.Tag.prototype.closest=function(t){return i.getTagForDom(this._dom.closest(t))},i.Tag.prototype.contains=function(t){return this.dom().contains(t._dom||t)},i.Tag.prototype.log=function(){for(var t=arguments,e=t.length,n=new Array(e>0?e:0);e>0;)n[e-1]=t[--e]
return n.unshift(console),Function.prototype.call.apply(console.log,n),this},i.Tag.prototype.css=function(t,e,n){if(t instanceof Object){for(let e,n,r=0,i=Object.keys(t),o=i.length;r<o;r++)e=t[n=i[r]],this.css(n,e)
return this}var r=i.CSSKeyMap[t]||t
if(null==e)this.dom().style.removeProperty(r)
else{if(void 0==e&&1==arguments.length)return this.dom().style[r]
r.match(/^--/)?this.dom().style.setProperty(r,e):("number"==typeof e||e instanceof Number)&&(r.match(/width|height|left|right|top|bottom/)||n&&n.px)?this.dom().style[r]=e+"px":this.dom().style[r]=e}return this},i.Tag.prototype.setStyle=function(t){return this.setAttribute("style",t)},i.Tag.prototype.style=function(){return this.getAttribute("style")},i.Tag.prototype.trigger=function(t,e){return void 0===e&&(e={}),i.Events.trigger(t,this,{data:e})},i.Tag.prototype.focus=function(){return this.dom().focus(),this},i.Tag.prototype.blur=function(){return this.dom().blur(),this},i.Tag.prototype.toString=function(){return this.dom().outerHTML},i.Tag.prototype.initialize=i.Tag,i.SVGTag=function(){return i.Tag.apply(this,arguments)},i.subclass(i.SVGTag,i.Tag),i.SVGTag.namespaceURI=function(){return"http://www.w3.org/2000/svg"},i.SVGTag.buildNode=function(){var t=i.document().createElementNS(this.namespaceURI(),this._nodeType)
if(this._classes){var e=this._classes.join(" ")
e&&(t.className.baseVal=e)}return t},i.SVGTag.inherit=function(t){if(t._protoDom=null,this==i.SVGTag)return t._nodeType=t._name,t._classes=[]
t._nodeType=this._nodeType
var e="_"+t._name.replace(/_/g,"-")
return t._classes=(this._classes||[]).concat(e)},i.HTML_TAGS="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" "),i.HTML_TAGS_UNSAFE="article aside header section".split(" "),i.HTML_ATTRS={a:"href target hreflang media download rel type ping referrerpolicy",audio:"autoplay controls crossorigin loop muted preload src",area:"alt coords download href hreflang ping referrerpolicy rel shape target",base:"href target",video:"autoplay buffered controls crossorigin height loop muted preload poster src width playsinline",fieldset:"disabled form name",form:"method action enctype autocomplete target",button:"autofocus type form formaction formenctype formmethod formnovalidate formtarget value name",embed:"height src type width",input:"accept disabled form list max maxlength min minlength pattern required size step type",label:"accesskey for form",img:"alt src srcset crossorigin decoding height importance intrinsicsize ismap referrerpolicy sizes width usemap",link:"rel type href media",iframe:"allow allowfullscreen allowpaymentrequest height importance name referrerpolicy sandbox src srcdoc width",meta:"property content charset desc",map:"name",optgroup:"label",option:"label",output:"for form",object:"type data width height",param:"name type value valuetype",progress:"max",script:"src type async defer crossorigin integrity nonce language nomodule",select:"size form multiple",source:"sizes src srcset type media",textarea:"rows cols minlength maxlength form wrap",track:"default kind label src srclang",td:"colspan rowspan headers",th:"colspan rowspan"},i.HTML_PROPS={input:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",textarea:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",form:"novalidate",fieldset:"disabled",button:"disabled",select:"autofocus disabled required readOnly multiple",option:"disabled selected value",optgroup:"disabled",progress:"value",fieldset:"disabled",canvas:"width height"}
function o(t){this._tag=t}function s(t,e,n){this.cache$=t,this.key$=e,this.par$=n,this.i$=0}i.Tags=function(){},i.Tags.prototype.__clone=function(t){var e=Object.create(this)
return e._parent=this,e},i.Tags.prototype.ns=function(t){return this["_"+t.toUpperCase()]||this.defineNamespace(t)},i.Tags.prototype.defineNamespace=function(t){var e=Object.create(this)
return e._parent=this,e._ns=t,this["_"+t.toUpperCase()]=e,e},i.Tags.prototype.baseType=function(t,e){return i.indexOf(t,i.HTML_TAGS)>=0?"element":"div"},i.Tags.prototype.defineTag=function(t,e,n){var r
void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e=""),n&&n._nodeType&&(e=n,n=null),this[t]&&console.log("tag already exists?",t)
var o=t
let s=o.indexOf(":")
s>=0&&(r=t.substr(0,s),o=t.substr(s+1),"svg"!=r||e||(e="svg:element")),e||(e=this.baseType(t))
let a="string"==typeof e||e instanceof String?this.findTagType(e):e,u=function(t,e){return this.initialize(t,e),this}
return u._name=o,u._flagName=null,"#"==o[0]?(i.SINGLETONS[o.slice(1)]=u,this[o]=u):o[0]==o[0].toUpperCase()?u._flagName=o:(u._flagName="_"+t.replace(/[_\:]/g,"-"),this[t]=u),function(t,e){for(let n,r,i=0,o=Object.keys(e),s=o.length;i<s;i++)n=e[r=o[i]],null==t[r]?t[r]=n:t[r]
t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.constructor=t,e.inherit&&e.inherit(t)}(u,a),n&&(n.call(u,u,u.TAGS||this),u.defined&&u.defined(),this.optimizeTag(u)),u},i.Tags.prototype.defineSingleton=function(t,e,n){return this.defineTag(t,e,n)},i.Tags.prototype.extendTag=function(t,e,n){void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e="")
var r="string"==typeof t||t instanceof String?this.findTagType(t):t
return n&&n&&n.call(r,r,r.prototype),r.extended&&r.extended(),this.optimizeTag(r),r},i.Tags.prototype.optimizeTag=function(t){var e
return(e=t.prototype)&&e.optimizeTagStructure&&e.optimizeTagStructure()},i.Tags.prototype.findTagType=function(t){var e,n
let o=this[t]
if(!o)if("svg:"==t.substr(0,4))o=this.defineTag(t,"svg:element")
else if(i.HTML_TAGS.indexOf(t)>=0){if(o=this.defineTag(t,"element"),e=i.HTML_ATTRS[t])for(let t=0,n=r(e.split(" ")),s=n.length;t<s;t++)i.attr(o,n[t])
if(n=i.HTML_PROPS[t])for(let t=0,e=r(n.split(" ")),s=e.length;t<s;t++)i.attr(o,e[t],{dom:!0})}return o},i.createElement=function(t,e,n,r){var o,a=t
a=t instanceof Function?t:i.TAGS.findTagType(t),o=e instanceof s?e.par$:r instanceof i.Tag?r:e&&void 0!=r?e[r]:e&&e._tag||e
var u=a.build(o)
return e instanceof s&&(e.i$++,u.$key=n),e&&void 0!=n&&(e[n]=u),u},i.createTagCache=function(t){var e=[]
return e._tag=t,e},i.createTagMap=function(t,e,n){var r=new s(t,e,void 0!=n?n:t._tag)
return t[e]=r,r},i.createTagList=function(t,e,n){var r=[]
return r._type=4,r._tag=void 0!=n?n:t._tag,t[e]=r,r},i.createTagLoopResult=function(t,e,n){var r=[]
return r._type=5,r.cache={i$:0},r},o.build=function(t){var e=[]
return e._tag=t,e},s.prototype.$iter=function(){var t=[]
return t._type=5,t.cache=this,t},s.prototype.$prune=function(t){let e=this.cache$,n=this.key$,i=new s(e,n,this.par$)
for(let e,n=0,o=r(t),s=o.length;n<s;n++)i[(e=o[n]).key$]=e
return i.i$=t.length,e[n]=i},i.TagMap=s,i.TagCache=o,i.SINGLETONS={},i.TAGS=new i.Tags,i.TAGS.element=i.TAGS.htmlelement=i.Tag,i.TAGS["svg:element"]=i.SVGTag,i.defineTag=function(t,e,n){return void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e=""),i.TAGS.defineTag(t,e,n)},i.defineSingletonTag=function(t,e,n){return void 0==n&&"function"==typeof e&&(n=e,e="div"),void 0==e&&(e="div"),i.TAGS.defineTag(this.name(),e,n)},i.extendTag=function(t,e){return i.TAGS.extendTag(t,e)},i.getTagSingleton=function(t){var e,n,r
return(e=i.SINGLETONS[t])?e&&e.Instance?e.Instance:(n=i.document().getElementById(t))?((r=e.Instance=new e(n)).awaken(n),r):((n=e.createNode()).id=t,(r=e.Instance=new e(n)).end().awaken(n),r):(n=i.document().getElementById(t))?i.getTagForDom(n):void 0}
var a="undefined"!=typeof SVGElement
i.getTagForDom=function(t){if(!t)return null
if(t._dom)return t
if(t._tag)return t._tag
if(!t.nodeName)return null
var e=t.nodeName.toLowerCase(),n=i.TAGS
return t.id&&i.SINGLETONS[t.id]?i.getTagSingleton(t.id):new(a&&t instanceof SVGElement?n.findTagType("svg:"+e):i.HTML_TAGS.indexOf(e)>=0?n.findTagType(e):i.Tag)(t,null).awaken(t)},i.Tag},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1)
function o(t,e,n){this._node=t,this._path=e,this._args=n,this._args&&(this._setter=i.toSetter(this._path))}i.defineTag("fragment","element",function(t){t.createNode=function(){return i.document().createDocumentFragment()}}),i.extendTag("html",function(t){t.prototype.parent=function(){return null}}),i.extendTag("canvas",function(t){t.prototype.context=function(t){return void 0===t&&(t="2d"),this.dom().getContext(t)}}),o.bind=function(t,e,n,r){return(t._data||(t._data=new this(t,n,r))).bind(e,n,r),t},o.prototype.bind=function(t,e,n){return t!=this._data&&(this._data=t),this},o.prototype.getFormValue=function(){return this._setter?this._data[this._path]():this._data[this._path]},o.prototype.setFormValue=function(t){return this._setter?this._data[this._setter](t):this._data[this._path]=t}
var s=function(t){return t&&t.splice&&t.sort}
i.extendTag("input",function(t){t.prototype.lazy=function(t){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.number=function(t){return this._number},t.prototype.setNumber=function(t){return this._number=t,this},t.prototype.bindData=function(t,e,n){return o.bind(this,t,e,n),this},t.prototype.checked=function(){return this._dom.checked},t.prototype.setChecked=function(t){return!!t!=this._dom.checked&&(this._dom.checked=!!t),this},t.prototype.setValue=function(t,e){return void 0!=this._localValue&&void 0!=e||(this.dom().value=this._value=t,this._localValue=void 0),this},t.prototype.setType=function(t){return this.dom().type=this._type=t,this},t.prototype.value=function(){let t=this._dom.value
return this._number&&t?parseFloat(t):t},t.prototype.oninput=function(t){let e=this._dom.value
this._localValue=e,this._data&&!this.lazy()&&"radio"!=this.type()&&"checkbox"!=this.type()&&this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(t){if(this._modelValue=this._localValue=void 0,this.data()){if("radio"!=this.type()&&"checkbox"!=this.type())return this._data.setFormValue(this.value())
{let t=this.checked(),e=this._data.getFormValue(this),n=void 0!=this._value?this._value:this.value()
if("radio"==this.type())return this._data.setFormValue(n,this)
if("on"==this.dom().value||void 0==this.dom().value)return this._data.setFormValue(!!t,this)
if(!s(e))return this._data.setFormValue(n,this)
{let r=e.indexOf(n)
if(t&&-1==r)return e.push(n)
if(!t&&r>=0)return e.splice(r,1)}}}},t.prototype.onblur=function(t){return this._localValue=void 0},t.prototype.end=function(){if(void 0!==this._localValue||!this._data)return this
let t=this._data.getFormValue(this)
if(t==this._modelValue)return this
if(s(t)||(this._modelValue=t),"radio"==this.type()||"checkbox"==this.type()){let e=this._value,n=s(t)?t.indexOf(e)>=0:"on"==this.dom().value||void 0==this.dom().value?!!t:t==this._value
this.setChecked(n)}else this._dom.value=t
return this}}),i.extendTag("textarea",function(t){t.prototype.lazy=function(t){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.bindData=function(t,e,n){return o.bind(this,t,e,n),this},t.prototype.setValue=function(t,e){return void 0!=this._localValue&&void 0!=e||(this.dom().value=t,this._localValue=void 0),this},t.prototype.oninput=function(t){let e=this._dom.value
if(this._localValue=e,this._data&&!this.lazy())return this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(t){if(this._localValue=void 0,this._data)return this._data.setFormValue(this.value(),this)},t.prototype.onblur=function(t){return this._localValue=void 0},t.prototype.render=function(){if(void 0==this._localValue&&this._data){if(this._data){let t=this._data.getFormValue(this)
this._dom.value=void 0!=t?t:""}return this}}}),i.extendTag("option",function(t){t.prototype.setValue=function(t){return t!=this._value&&(this.dom().value=this._value=t),this},t.prototype.value=function(){return this._value||this.dom().value}}),i.extendTag("select",function(t){t.prototype.bindData=function(t,e,n){return o.bind(this,t,e,n),this},t.prototype.setValue=function(t,e){this._value
return this._value=t,e||this.syncValue(t),this},t.prototype.syncValue=function(t){let e=this._syncValue
if(this.multiple()&&t instanceof Array){if(e instanceof Array&&function(t,e){let n=t.length,r=0
if(n!=e.length)return!1
for(;r++<n;)if(t[r]!=e[r])return!1
return!0}(e,t))return this
t=t.slice()}if(this._syncValue=t,"object"==typeof t){let e=this.multiple()&&t instanceof Array
for(let n,i=0,o=r(this.dom().options),s=o.length;i<s;i++){let r=(n=o[i])._tag?n._tag.value():n.value
if(e)n.selected=t.indexOf(r)>=0
else if(t==r){this.dom().selectedIndex=i
break}}}else this.dom().value=t
return this},t.prototype.value=function(){if(this.multiple()){let t=[]
for(let e,n=0,i=r(this.dom().selectedOptions),o=i.length;n<o;n++)e=i[n],t.push(e._tag?e._tag.value():e.value)
return t}{let t=this.dom().selectedOptions[0]
return t?t._tag?t._tag.value():t.value:null}},t.prototype.onchange=function(t){if(this._data)return this._data.setFormValue(this.value(),this)},t.prototype.end=function(){return this._data&&this.setValue(this._data.getFormValue(this),1),this._value!=this._syncValue&&this.syncValue(this._value),this}})},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1)
i.Touch=function(t,e){return this.setEvent(t),this.setData({}),this.setActive(!0),this._button=t&&t.button||0,this._suppress=!1,this._captured=!1,this.setBubble(!1),e=e,this.setUpdates(0),this},i.Touch.LastTimestamp=0,i.Touch.TapTimeout=50
var o=[],s=0,a={}
i.Touch.count=function(){return s},i.Touch.lookup=function(t){return t&&(t.__touch__||a[t.identifier])},i.Touch.release=function(t,e){a[t.identifier],delete a[t.identifier],t.__touch__,delete t.__touch__},i.Touch.ontouchstart=function(t){for(let n,i=0,u=r(t.changedTouches),h=u.length;i<h;i++)if(n=u[i],!this.lookup(n)){var e=a[n.identifier]=new this(t)
n.__touch__=e,o.push(e),s++,e.touchstart(t,n)}return this},i.Touch.ontouchmove=function(t){var e
for(let n,i=0,o=r(t.changedTouches),s=o.length;i<s;i++)n=o[i],(e=this.lookup(n))&&e.touchmove(t,n)
return this},i.Touch.ontouchend=function(t){var e
for(let n,i=0,o=r(t.changedTouches),a=o.length;i<a;i++)n=o[i],(e=this.lookup(n))&&(e.touchend(t,n),this.release(n,e),s--)
return this},i.Touch.ontouchcancel=function(t){var e
for(let n,i=0,o=r(t.changedTouches),a=o.length;i<a;i++)n=o[i],(e=this.lookup(n))&&(e.touchcancel(t,n),this.release(n,e),s--)
return this},i.Touch.onmousedown=function(t){return this},i.Touch.onmousemove=function(t){return this},i.Touch.onmouseup=function(t){return this},i.Touch.prototype.phase=function(t){return this._phase},i.Touch.prototype.setPhase=function(t){return this._phase=t,this},i.Touch.prototype.active=function(t){return this._active},i.Touch.prototype.setActive=function(t){return this._active=t,this},i.Touch.prototype.event=function(t){return this._event},i.Touch.prototype.setEvent=function(t){return this._event=t,this},i.Touch.prototype.pointer=function(t){return this._pointer},i.Touch.prototype.setPointer=function(t){return this._pointer=t,this},i.Touch.prototype.target=function(t){return this._target},i.Touch.prototype.setTarget=function(t){return this._target=t,this},i.Touch.prototype.handler=function(t){return this._handler},i.Touch.prototype.setHandler=function(t){return this._handler=t,this},i.Touch.prototype.updates=function(t){return this._updates},i.Touch.prototype.setUpdates=function(t){return this._updates=t,this},i.Touch.prototype.suppress=function(t){return this._suppress},i.Touch.prototype.setSuppress=function(t){return this._suppress=t,this},i.Touch.prototype.data=function(t){return this._data},i.Touch.prototype.setData=function(t){return this._data=t,this},i.Touch.prototype.__bubble={chainable:!0,name:"bubble"},i.Touch.prototype.bubble=function(t){return void 0!==t?(this.setBubble(t),this):this._bubble},i.Touch.prototype.setBubble=function(t){return this._bubble=t,this},i.Touch.prototype.timestamp=function(t){return this._timestamp},i.Touch.prototype.setTimestamp=function(t){return this._timestamp=t,this},i.Touch.prototype.gestures=function(t){return this._gestures},i.Touch.prototype.setGestures=function(t){return this._gestures=t,this},i.Touch.prototype.capture=function(){return this._captured=!0,this._event&&this._event.stopPropagation(),this._selblocker||(this._selblocker=function(t){return t.preventDefault()},i.document().addEventListener("selectstart",this._selblocker,!0)),this},i.Touch.prototype.isCaptured=function(){return!!this._captured},i.Touch.prototype.extend=function(t){return this._gestures||(this._gestures=[]),this._gestures.push(t),this},i.Touch.prototype.redirect=function(t){return this._redirect=t,this},i.Touch.prototype.suppress=function(){return this._active=!1,this},i.Touch.prototype.setSuppress=function(t){return console.warn("Imba.Touch#suppress= is deprecated"),this._supress=t,this},i.Touch.prototype.touchstart=function(t,e){return this._event=t,this._touch=e,this._button=0,this._x=e.clientX,this._y=e.clientY,this.began(),this.update(),t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchmove=function(t,e){return this._event=t,this._x=e.clientX,this._y=e.clientY,this.update(),t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchend=function(t,e){if(this._event=t,this._x=e.clientX,this._y=e.clientY,this.ended(),i.Touch.LastTimestamp=t.timeStamp,this._maxdr<20){var n=new i.Event(t)
n.setType("tap"),n.process()}return t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchcancel=function(t,e){return this.cancel()},i.Touch.prototype.mousedown=function(t,e){var n=this
return n._event=t,n._button=t.button,n._x=e.clientX,n._y=e.clientY,n.began(),n.update(),n._mousemove=function(t){return n.mousemove(t,t)},i.document().addEventListener("mousemove",n._mousemove,!0),n},i.Touch.prototype.mousemove=function(t,e){return this._x=e.clientX,this._y=e.clientY,this._event=t,this.isCaptured()&&t.preventDefault(),this.update(),this.move(),this},i.Touch.prototype.mouseup=function(t,e){return this._x=e.clientX,this._y=e.clientY,this.ended(),this},i.Touch.prototype.idle=function(){return this.update()},i.Touch.prototype.began=function(){this._timestamp=Date.now(),this._maxdr=this._dr=0,this._x0=this._x,this._y0=this._y
var t=this.event().target,e=null
for(this._sourceTarget=t&&i.getTagForDom(t);t&&(!(e=i.getTagForDom(t))||!e.ontouchstart||(this._bubble=!1,this.setTarget(e),this.target().ontouchstart(this),this._bubble));)t=t.parentNode
return this._updates++,this},i.Touch.prototype.update=function(){var t
if(!this._active||this._cancelled)return this
var e=Math.sqrt(this.dx()*this.dx()+this.dy()*this.dy())
if(e>this._dr&&(this._maxdr=e),this._dr=e,this._redirect&&(this._target&&this._target.ontouchcancel&&this._target.ontouchcancel(this),this.setTarget(this._redirect),this._redirect=null,this.target().ontouchstart&&this.target().ontouchstart(this),this._redirect))return this.update()
if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchupdate(this)
return(t=this.target())&&t.ontouchupdate&&t.ontouchupdate(this),this._redirect&&this.update(),this},i.Touch.prototype.move=function(){var t
if(!this._active||this._cancelled)return this
if(this._gestures)for(let t,e=0,n=r(this._gestures),i=n.length;e<i;e++)(t=n[e]).ontouchmove&&t.ontouchmove(this,this._event)
return(t=this.target())&&t.ontouchmove&&t.ontouchmove(this,this._event),this},i.Touch.prototype.ended=function(){var t
if(!this._active||this._cancelled)return this
if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchend(this)
return(t=this.target())&&t.ontouchend&&t.ontouchend(this),this.cleanup_(),this},i.Touch.prototype.cancel=function(){return this._cancelled||(this._cancelled=!0,this.cancelled(),this.cleanup_()),this},i.Touch.prototype.cancelled=function(){var t
if(!this._active)return this
if(this._cancelled=!0,this._updates++,this._gestures)for(let t,e=0,n=r(this._gestures),i=n.length;e<i;e++)(t=n[e]).ontouchcancel&&t.ontouchcancel(this)
return(t=this.target())&&t.ontouchcancel&&t.ontouchcancel(this),this},i.Touch.prototype.cleanup_=function(){return this._mousemove&&(i.document().removeEventListener("mousemove",this._mousemove,!0),this._mousemove=null),this._selblocker&&(i.document().removeEventListener("selectstart",this._selblocker,!0),this._selblocker=null),this},i.Touch.prototype.dr=function(){return this._dr},i.Touch.prototype.dx=function(){return this._x-this._x0},i.Touch.prototype.dy=function(){return this._y-this._y0},i.Touch.prototype.x0=function(){return this._x0},i.Touch.prototype.y0=function(){return this._y0},i.Touch.prototype.x=function(){return this._x},i.Touch.prototype.y=function(){return this._y},i.Touch.prototype.tx=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._x-this._targetBox.left},i.Touch.prototype.ty=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._y-this._targetBox.top},i.Touch.prototype.button=function(){return this._button},i.Touch.prototype.sourceTarget=function(){return this._sourceTarget},i.Touch.prototype.elapsed=function(){return Date.now()-this._timestamp},i.TouchGesture=function(){},i.TouchGesture.prototype.__active={default:!1,name:"active"},i.TouchGesture.prototype.active=function(t){return this._active},i.TouchGesture.prototype.setActive=function(t){return this._active=t,this},i.TouchGesture.prototype._active=!1,i.TouchGesture.prototype.ontouchstart=function(t){return this},i.TouchGesture.prototype.ontouchupdate=function(t){return this},i.TouchGesture.prototype.ontouchend=function(t){return this}},function(t,e,n){var r=n(1),i={esc:27,tab:9,enter:13,space:32,up:38,down:40},o=r.Tag.prototype
o.stopModifier=function(t){return t.stop()||!0},o.preventModifier=function(t){return t.prevent()||!0},o.silenceModifier=function(t){return t.silence()||!0},o.bubbleModifier=function(t){return t.bubble(!0)||!0},o.ctrlModifier=function(t){return 1==t.event().ctrlKey},o.altModifier=function(t){return 1==t.event().altKey},o.shiftModifier=function(t){return 1==t.event().shiftKey},o.metaModifier=function(t){return 1==t.event().metaKey},o.keyModifier=function(t,e){return!e.keyCode()||e.keyCode()==t},o.delModifier=function(t){return!t.keyCode()||(8==t.keyCode()||46==t.keyCode())},o.selfModifier=function(t){return t.event().target==this._dom},o.leftModifier=function(t){return void 0!=t.button()?0===t.button():o.keyModifier(37,t)},o.rightModifier=function(t){return void 0!=t.button()?2===t.button():o.keyModifier(39,t)},o.middleModifier=function(t){return void 0==t.button()||1===t.button()},o.getHandler=function(t,e){if(this[t])return this},r.Event=function(t){this.setEvent(t),this._bubble=!0},r.Event.prototype.event=function(t){return this._event},r.Event.prototype.setEvent=function(t){return this._event=t,this},r.Event.prototype.prefix=function(t){return this._prefix},r.Event.prototype.setPrefix=function(t){return this._prefix=t,this},r.Event.prototype.source=function(t){return this._source},r.Event.prototype.setSource=function(t){return this._source=t,this},r.Event.prototype.data=function(t){return this._data},r.Event.prototype.setData=function(t){return this._data=t,this},r.Event.prototype.responder=function(t){return this._responder},r.Event.prototype.setResponder=function(t){return this._responder=t,this},r.Event.wrap=function(t){return new this(t)},r.Event.prototype.setType=function(t){return this._type=t,this},r.Event.prototype.type=function(){return this._type||this.event().type},r.Event.prototype.native=function(){return this._event},r.Event.prototype.name=function(){return this._name||(this._name=this.type().toLowerCase().replace(/\:/g,""))},r.Event.prototype.bubble=function(t){return void 0!=t?(this.setBubble(t),this):this._bubble},r.Event.prototype.setBubble=function(t){return this._bubble=t,this},r.Event.prototype.stop=function(){return this.setBubble(!1),this},r.Event.prototype.stopPropagation=function(){return this.stop()},r.Event.prototype.halt=function(){return this.stop()},r.Event.prototype.prevent=function(){return this.event().preventDefault?this.event().preventDefault():this.event().defaultPrevented=!0,this.defaultPrevented=!0,this},r.Event.prototype.preventDefault=function(){return console.warn("Event#preventDefault is deprecated - use Event#prevent"),this.prevent()},r.Event.prototype.isPrevented=function(){return this.event()&&this.event().defaultPrevented},r.Event.prototype.cancel=function(){return console.warn("Event#cancel is deprecated - use Event#prevent"),this.prevent()},r.Event.prototype.silence=function(){return this._silenced=!0,this},r.Event.prototype.isSilenced=function(){return!!this._silenced},r.Event.prototype.target=function(){return r.getTagForDom(this.event()._target||this.event().target)},r.Event.prototype.responder=function(){return this._responder},r.Event.prototype.redirect=function(t){return this._redirect=t,this},r.Event.prototype.processHandlers=function(t,e){let n=1,o=e.length,s=this._bubble,a=e.state||(e.state={})
for(s&&(this._bubble=1);n<o;){let o=!1,s=e[n++],u=null,h=t
if(s instanceof Array&&(u=s.slice(1),s=s[0]),"string"==typeof s){i[s]&&(u=[i[s]],s="key")
let e=s+"Modifier"
t[e]&&(o=!0,u=(u||[]).concat([this,a]),s=t[e])}if("string"==typeof s){let t=null,e=a.context
e&&(e.getHandler instanceof Function&&(e=e.getHandler(s,this)),e[s]instanceof Function&&(s=t=e[s],h=e)),t||console.warn("event "+this.type()+": could not find '"+s+"' in context",e)}if(s instanceof Function){let e=s.apply(h,u||[this])
if(o||this._responder||(this._responder=t),0==e)break
e&&!this._silenced&&e.then instanceof Function&&e.then(r.commit)}}return 1===this._bubble&&(this._bubble=s),null},r.Event.prototype.process=function(){for(var t,e,n,r=this.name(),i="on"+(this._prefix||"")+r,o=this.event()._target||this.event().target,s=o._responder||o;s;){this._redirect=null
let o=s._dom?s:s._tag
if(o){if(e=o._on_){for(let t,i=0,s=(n=e)?n.toArray?n.toArray():n:[],a=s.length;i<a;i++){if(!(t=s[i]))continue
t[0]
r==t[0]&&this.bubble()&&this.processHandlers(o,t)}if(!this.bubble())break}this.bubble()&&o[i]instanceof Function&&(this._responder||(this._responder=o),this._silenced=!1,t=o[i](this,this.data())),o.onevent&&o.onevent(this)}if(!this.bubble()||!(s=this._redirect||(o?o.parent():s.parentNode)))break}return this.processed(),t&&t.then instanceof Function&&t.then(this.processed.bind(this)),this},r.Event.prototype.processed=function(){return!this._silenced&&this._responder&&(r.emit(r,"event",[this]),r.commit(this.event())),this},r.Event.prototype.x=function(){return this.native().x},r.Event.prototype.y=function(){return this.native().y},r.Event.prototype.button=function(){return this.native().button},r.Event.prototype.keyCode=function(){return this.native().keyCode},r.Event.prototype.ctrl=function(){return this.native().ctrlKey},r.Event.prototype.alt=function(){return this.native().altKey},r.Event.prototype.shift=function(){return this.native().shiftKey},r.Event.prototype.meta=function(){return this.native().metaKey},r.Event.prototype.key=function(){return this.native().key},r.Event.prototype.which=function(){return this.event().which}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i={},o=n(1),s=function(t,e,n){if(e instanceof Array)for(let i=0,o=r(e),a=o.length;i<a;i++)s(t,o[i],n)
else if(e&&e._slot_)t.removeChild(e)
else if(null!=e){let r=n?n.nextSibling:t._dom.firstChild
if(!(r instanceof Text&&r.textContent==e))throw"cannot remove string"
t.removeChild(r)}return n},a=function(t,e){if(e instanceof Array){let n=0,r=e.taglen,i=null!=r?e.domlen=r:e.length
for(;n<i;)a(t,e[n++])}else e&&e._dom?t.appendChild(e):null!=e&&!1!==e&&t.appendChild(o.createTextNode(e))},u=function(t,e,n){if(e instanceof Array){let r=0,i=e.taglen,o=null!=i?e.domlen=i:e.length
for(;r<o;)u(t,e[r++],n)}else e&&e._dom?t.insertBefore(e,n):null!=e&&!1!==e&&t.insertBefore(o.createTextNode(e),n)
return n}
i.insertNestedAfter=function(t,e,n){var r=n?n.nextSibling:t._dom.firstChild
return r?(u(t,e,r),r.previousSibling):(a(t,e),t._dom.lastChild)}
var h=function(t,e,n,s){var a,u=e[e.length-1],h=[],c=[],l=[],p=0,d=0
for(let i,o=0,s=r(n),u=s.length;o<u;o++)if((i=s[o])&&3==i.nodeType?((a=e.indexOf(i.textContent))>=0&&(e[a]=i),!0):a=e.indexOf(i),h.push(a),-1!=a){for(var f=h.length-2;f>=0;)if(-1==h[f])f--
else{if(a>h[f])break
f=c[f]}c.push(f)
var g=-1==f?0:l[f]+1
g>p&&(p=g,d=o),l.push(g)}else t.removeChild(i),c.push(-1),l.push(-1)
for(var _=[],m=h.length-1;m>=0;)m==d&&-1!=h[m]&&(_[h[m]]=!0,d=c[d]),m-=1
for(let n,a=0,u=r(e),h=u.length;a<h;a++){if(n=u[a],!_[a]){n&&n._dom||(n=e[a]=o.createTextNode(n))
var y=e[a-1]
i.insertNestedAfter(t,n,y&&y._slot_||y||s)}s=n._slot_||s&&s.nextSibling||t._dom.firstChild}return u&&u._slot_||s},c=function(t,e,n,r){for(var i=e.length,o=n.length,s=e.cache.i$,a=0,u=i-o;a<o&&a<i&&e[a]===n[a];)a++
if(s>1e3&&s-i>500&&e.cache.$prune(e),!(u>0&&a==o)){if(u>0){let r=i
for(;r>a&&e[r-1]===n[r-1-u];)r--
if(u==r-a){let i=n[a]._slot_
for(;a<r;)t.insertBefore(e[a++],i)
return}}else{if(u<0&&a==i){for(;a<o;)t.removeChild(n[a++])
return}if(u<0){let r=o
for(;r>a&&e[r-1+u]===n[r-1];)r--
if(u==a-r){for(;a<r;)t.removeChild(n[a++])
return}}else if(a==i)return}return h(t,e,n,r)}for(;a<i;)t.appendChild(e[a++])},l=function(t,e,n,r){var i=e.taglen,o=e.domlen||0,s=i?e[i-1]:null
if(o>i)for(;o>i;){var a=e[--o]
t.removeChild(a._slot_)}else if(i>o){let n=o?e[o-1]._slot_:r,s=n?n.nextSibling:t._dom.firstChild
for(;o<i;){let n=e[o++]
s?t.insertBefore(n._slot_,s):t.appendChild(n._slot_)}}return e.domlen=i,s?s._slot_:r},p=function(t,e,n,o){var a=null==e||!1===e,u=null==n||!1===n
if(e===n)return a?o:e._slot_?e._slot_:e instanceof Array&&null!=e.taglen?l(t,e,0,o):o?o.nextSibling:t._dom.firstChild
if(e instanceof Array){if(n instanceof Array){let i=e.static
if(!i&&!n.static)return function(t,e,n,r){var i=e.length,o=i,s=e[i-1]
if(i==n.length&&e[0]===n[0])for(;o--&&e[o]===n[o];);return-1==o?s&&s._slot_||s||r:h(t,e,n,r)}(t,e,n,o)
if(i==n.static){for(let i=0,s=r(e),a=s.length;i<a;i++)o=p(t,s[i],n[i],o)
return o}s(t,n,o)}else u||(n._slot_?t.removeChild(n):t.removeChild(o?o.nextSibling:t._dom.firstChild))
return i.insertNestedAfter(t,e,o)}if(!a&&e._slot_)return u||s(t,n,o),i.insertNestedAfter(t,e,o)
if(a)return u||s(t,n,o),o
{let r
if(n instanceof Array)s(t,n,o)
else if(n&&n._slot_)t.removeChild(n)
else if(!u&&(r=o?o.nextSibling:t._dom.firstChild)instanceof Text&&r.textContent!=e)return r.textContent=e,r
return i.insertNestedAfter(t,e,o)}}
o.extendTag("element",function(t){t.prototype.setChildren=function(t,e){var n=this._tree_
if(t===n&&(!t||void 0==t.taglen))return this
if(n||3==e)if(1==e){let e=null
for(let i=0,o=r(t),s=o.length;i<s;i++)e=p(this,o[i],n[i],e)}else{if(2==e)return this
if(3==e){if("object"!=typeof t)return this.setText(t)
if(t&&t._dom)this.removeAllChildren(),this.appendChild(t)
else{if(!(t instanceof Array))return this.setText(t)
5==t._type&&n&&5==n._type?c(this,t,n,null):n instanceof Array?p(this,t,n,null):(this.removeAllChildren(),a(this,t))}}else 4==e?l(this,t,0,null):5==e?c(this,t,n,null):t instanceof Array&&n instanceof Array?p(this,t,n,null):(this.removeAllChildren(),a(this,t))}else this.removeAllChildren(),a(this,t)
return this._tree_=t,this},t.prototype.content=function(){return this._content||this.children().toArray()},t.prototype.setText=function(t){if(t!=this._tree_){var e=null===t||!1===t?"":t;(this._text_||this._dom).textContent=e,this._text_||(this._text_=this._dom.firstChild),this._tree_=t}return this}})
var d=o.Tag.prototype
d.setContent=d.setChildren,"undefined"!=typeof navigator&&0==(navigator.vendor||"").indexOf("Apple")&&(d.setText=function(t){return t!=this._tree_&&(this._dom.textContent=null===t||!1===t?"":t,this._tree_=t),this})},function(t,e,n){var r=n(0)
function i(t,e){this._src=t,this._path=t.replace(/\.md$/,""),this._app=e,this._ready=!1,this.fetch()}e.Doc=i,i.prototype.path=function(t){return this._path},i.prototype.setPath=function(t){return this._path=t,this},i.prototype.src=function(t){return this._src},i.prototype.setSrc=function(t){return this._src=t,this},i.prototype.data=function(t){return this._data},i.prototype.setData=function(t){return this._data=t,this},i.prototype.ready=function(){return this._ready},i.prototype.fetch=function(){var t=this
return t._promise||(t._promise=t._app.fetch(t.src()).then(function(e){return t.load(e)}))},i.prototype.load=function(t){return this._data=t,this._meta=t.meta||{},this._ready=!0,r.commit(),this},i.prototype.title=function(){return this._data.title||"path"},i.prototype.toc=function(){return this._data&&this._data.toc[0]},i.prototype.body=function(){return this._data&&this._data.body}
e.Cache={}
var o={}
function s(t){void 0===t&&(t={}),this._cache=t,this._docs={},this._loc=document.location,this._cache.guide&&(this._guide=JSON.parse(JSON.stringify(this._cache.guide)))}e.App=s,s.prototype.req=function(t){return this._req},s.prototype.setReq=function(t){return this._req=t,this},s.prototype.cache=function(t){return this._cache},s.prototype.setCache=function(t){return this._cache=t,this},s.prototype.issues=function(t){return this._issues},s.prototype.setIssues=function(t){return this._issues=t,this},s.deserialize=function(t){return void 0===t&&(t="{}"),new this(JSON.parse(t.replace(/SCRIPT/g,"script")))},s.prototype.reset=function(){return this.setCache({}),this},s.prototype.doc=function(t){return this._docs[t]||(this._docs[t]=new i(t,this))},s.prototype.guide=function(){return this._guide||(this._guide=this._cache.guide)},s.prototype.serialize=function(){return JSON.stringify(this.cache()).replace(/\bscript/g,"SCRIPT")},s.prototype.fetch=function(t){var e=this
return e.cache()[t]?Promise.resolve(e.cache()[t]):o[t]||(o[t]=new Promise(async function(n){var r=await window.fetch(t),i=await r.json()
return n(e.cache()[t]=i)}))},s.prototype.fetchDocument=function(t,e){var n=this,r=n.deps()[t]
if(console.log("no longer?"),r)return e&&e(r),{then:function(t){return t(r)}}
var i=new XMLHttpRequest
return i.addEventListener("load",function(r){return r=n.deps()[t]=JSON.parse(i.responseText),e&&e(r)}),i.open("GET",t),i.send(),n},s.prototype.issues=function(){return this._issues||(this._issues=i.get("/issues/all","json"))}},function(t,e,n){var r=n(0),i=r.createElement
n(21)
var o=n(23).HomePage,s=n(28).GuidesPage,a=(n(29).DocsPage,n(6).Logo)
r.extendTag("element",function(t){t.prototype.root=function(){return this._owner_?this._owner_.root():this},t.prototype.app=function(){return this.root().app()}})
var u=r.defineTag("Site",function(t){t.prototype.setup=function(){var t=this
return t.router()._redirects["/guides"]="/guides/essentials/introduction",t.router().on("hashchange",function(e){if(!t.router().hash())return
let n=t.dom().querySelector(t.router().hash())
return n?n.scrollIntoView(!0):void 0}),t},t.prototype.app=function(){return this.data()},t.prototype.root=function(){return this},t.prototype.load=function(){return this},t.prototype.toggleMenu=function(){return document.body.classList.toggle("menu")},t.prototype.render=function(){var t=this.$
return this.$open(0).setChildren(t.$=t.$||[i("header",t,0,this).setId("header").setContent(t[1]||i("nav",t,1,0).flag("content").setContent([i(a,t,2,1),i("a",t,3,1).flag("tab").flag("logo").set("route-to","/",{exact:1}).setContent(t[4]||i("i",t,4,3).setText("imba"),2),i("span",t,5,1).flag("greedy"),i("a",t,6,1).flag("tab").flag("home").set("route-to","/",{exact:1}).setContent(t[7]||i("i",t,7,6).setText("home"),2),i("a",t,8,1).flag("tab").flag("guides").setRouteTo("/guides").setContent(t[9]||i("i",t,9,8).setText("learn"),2),i("a",t,10,1).flag("tab").flag("gitter").setHref("https://gitter.im/somebee/imba").setContent(t[11]||i("i",t,11,10).setText("community"),2),i("a",t,12,1).flag("github").setHref("https://github.com/somebee/imba").setContent(t[13]||i("i",t,13,12).setText("github"),2),i("a",t,14,1).flag("menu").on$(0,["tap","toggleMenu"],this).setContent(t[15]||i("b",t,15,14),2)],2),2),i(o,t,16,this).set("route","/",{exact:1}),i(s,t,17,this).setRoute("/guides"),i("footer",t,18,this).setId("footer").setContent([i("hr",t,19,18),i("div",t,20,18).flag("lft").setText("Imba  2015-2018"),i("div",t,21,18).flag("rgt").setContent([i("a",t,22,21).setHref("http://twitter.com/imbajs").setText("Twitter"),i("a",t,23,21).setHref("http://github.com/somebee/imba").setText("GitHub"),i("a",t,24,21).setHref("http://github.com/somebee/imba/issues").setText("Issues"),i("a",t,25,21).setHref("http://gitter.im/somebee/imba").setText("Chat")],2)],2)],2).synced((t[2].end(),t[3].end(),t[6].end(),t[8].end(),t[10].end(),t[12].end(),t[16].end(),t[17].bindData(this.app(),"guide",[]).end(),t[22].end(),t[23].end(),t[24].end(),t[25].end(),!0))}})
e.Site=u},function(t,e,n){var r=n(0),i=n(22).Route,o="undefined"!=typeof window
function s(t,e){void 0===e&&(e={}),this._url=t,this._hash="",this._routes={},this._redirects={},this._aliases={},this._busy=[],this._root=e.root||"",this.setup()}s._instance=null,s.prototype.mode=function(t){return this._mode},s.prototype.setMode=function(t){return this._mode=t,this},s.prototype.busy=function(t){return this._busy},s.prototype.setBusy=function(t){return this._busy=t,this},s.prototype.root=function(t){return this._root},s.prototype.setRoot=function(t){return this._root=t,this},s.prototype.setup=function(){var t=this
if(o){let e=document.location.pathname
!t._root&&window.SCRIMBA_ROOT&&(t._root=window.SCRIMBA_ROOT.replace(/\/$/,"")),e&&t._redirects[e]&&t.history().replaceState({},null,t._redirects[e]),t._hash=document.location.hash,window.addEventListener("hashchange",function(e){return t.emit("hashchange",t._hash=document.location.hash)})}return t},s.prototype.path=function(){let t=this._url||(o?document.location.pathname:"")
return this._root&&0==t.indexOf(this._root)&&(t=t.slice(this._root.length)),t=this._redirects[t]||t,t=this._aliases[t]||t},s.prototype.url=function(){var t=this.path()
return o&&(t+=document.location.hash),t},s.prototype.hash=function(){return this._hash},s.instance=function(){return this._instance||(this._instance=new this)},s.prototype.history=function(){return window.history},s.prototype.match=function(t){return(this._routes[t]||(this._routes[t]=new i(this,t))).test()},s.prototype.go=function(t,e){var n=this
return void 0===e&&(e={}),t=n._redirects[t]||t,n.history().pushState(e,null,n.normalize(n.root()+t)),r.commit(),o&&n.onReady(function(){let t=document.location.hash
if(t!=n._hash)return n.emit("hashchange",n._hash=t)}),n},s.prototype.replace=function(t,e){return void 0===e&&(e={}),t=this._redirects[t]||t,this.history().replaceState(e,null,this.normalize(this.root()+t))},s.prototype.normalize=function(t){return t},s.prototype.onReady=function(t){var e=this
return r.ticker().add(function(){return 0==((n=e._busy)&&(n.len instanceof Function?n.len():n.length)||0)?t(e):r.once(e,"ready",t)
var n})},s.prototype.emit=function(t){for(var e=arguments,n=e.length,i=new Array(n>1?n-1:0);n>1;)i[--n-1]=e[n]
return r.emit(this,t,i)},s.prototype.on=function(t){for(var e=arguments,n=e.length,i=new Array(n>1?n-1:0);n>1;)i[--n-1]=e[n]
return r.listen.apply(r,[].concat([this,t],[].slice.call(i)))},s.prototype.once=function(t){for(var e=arguments,n=e.length,i=new Array(n>1?n-1:0);n>1;)i[--n-1]=e[n]
return r.once.apply(r,[].concat([this,t],[].slice.call(i)))},s.prototype.un=function(t){for(var e=arguments,n=e.length,i=new Array(n>1?n-1:0);n>1;)i[--n-1]=e[n]
return r.unlisten.apply(r,[].concat([this,t],[].slice.call(i)))}
const a={inject:function(t,e){t.render
return t.resolveRoute=this.resolveRoute,t.beforeRender=this.beforeRender,t.ontap||(t.ontap=this.ontap)},beforeRender:function(){return this.resolveRoute(),!0},ontap:function(t){var e=this._route.resolve()
if(e){if(this._route.option("sticky")){let t=this._route.params().url
t&&0==t.indexOf(e)&&(e=t)}return"#"!=e[0]&&"/"!=e[0]?(t._responder=null,t.prevent().stop(),window.open(e,"_blank")):t.meta()||t.alt()?(t._responder=null,t.prevent().stop(),window.open(this.router().root()+e,"_blank")):(t.prevent().stop(),this.router().go(e,{}))}},resolveRoute:function(){this._route.test()
return this.setAttribute("href",this.router().root()+this._route.resolve()),this.flagIf("active",this._route.test())}},u={inject:function(t){return t._params={},t.resolveRoute=this.resolveRoute,t.beforeRender=this.beforeRender,t.detachFromParent()},beforeRender:function(){if(this.resolveRoute(),!this._params._active)return!1
let t=this._route.status()
return this["render"+t]?(this["render"+t](),!1):t>=200},resolveRoute:function(t){var e=this
let n=e._params,r=e._route.test()
if(r){if(r!=n&&(e.setParams(r),e.load&&e.route().load(function(){return e.load(e.params())})),!r._active)return r._active=!0,e.attachToParent()}else if(n._active)return n._active=!1,e.detachFromParent()}}
r.extendTag("element",function(t){t.prototype.__route={watch:"routeDidSet",name:"route"},t.prototype.route=function(t){return this._route},t.prototype.setRoute=function(t){var e=this.route()
return t!=e&&(this._route=t),t!=e&&this.routeDidSet&&this.routeDidSet(t,e,this.__route),this},t.prototype.__params={watch:"paramsDidSet",name:"params"},t.prototype.params=function(t){return this._params},t.prototype.setParams=function(t){var e=this.params()
return t!=e&&(this._params=t),t!=e&&this.paramsDidSet&&this.paramsDidSet(t,e,this.__params),this},t.prototype.setRoute=function(t,e){let n=this._route
if(n)String(t)!=n._raw&&n.setPath(String(t))
else{let n="/"!=(t=String(t))[0]?this.getParentRoute():null,r=e||{}
r.node=this,this._route=new i(this.router(),t,n,r),r.link?a.inject(this,r):u.inject(this)}return this},t.prototype.setRouteTo=function(t,e){return this._route?this.setRoute(t):(e||(e={}),e.link=!0,this.setRoute(t,e))},t.prototype.setRouterUrl=function(t){return this._router||(this._router=new s(t)),this},t.prototype.setRouterRoot=function(t){return this.router().setRoot(t),this},t.prototype.getParentRoute=function(){for(var t=this._owner_;t;){if(t._route)return t._route
t=t._owner_}return null},t.prototype.router=function(){return o?s.instance():this._router||(this._owner_?this._owner_.router():this._router||(this._router=new s))}})},function(t,e,n){var r=n(0)
function i(t,e,n,r){this._parent=n,this._router=t,this._options=r||{},this._node=this._options.node,this._status=200,this.setPath(e)}e.Route=i,i.prototype.raw=function(t){return this._raw},i.prototype.setRaw=function(t){return this._raw=t,this},i.prototype.params=function(t){return this._params},i.prototype.setParams=function(t){return this._params=t,this},i.prototype.__status={watch:"statusDidSet",name:"status"},i.prototype.status=function(t){return this._status},i.prototype.setStatus=function(t){var e=this.status()
return t!=e&&(this._status=t),t!=e&&this.statusDidSet&&this.statusDidSet(t,e,this.__status),this},i.prototype.option=function(t){return this._options[t]},i.prototype.setPath=function(t){var e=this
return e._raw=t,e._groups=[],e._params={},e._cache={},t="^"+(t=t.replace(/\:(\w+|\*)(\.)?/g,function(t,n,r){return"*"!=n&&e._groups.push(n),r?"([^/#.?]+).":"([^/#?]+)"})),e._options.exact&&"$"!=t[t.length-1]?t+="(?=[#?]|$)":t+="(?=[/#?]|$)",e._regex=new RegExp(t),e},i.prototype.test=function(t){var e,n
if(t||(t=this._router.url()),t==this._cache.url)return this._cache.match
let r="",i=this._cache.url=t
if(this._cache.match=null,this._parent&&"/"!=this._raw[0]&&(e=this._parent.test(t))&&0==t.indexOf(e.path)&&(r=e.path+"/",i=t.slice(e.path.length+1)),n=i.match(this._regex)){let e=r+n[0]
if(e==this._params.path)return this._params.url=t,this._cache.match=this._params
if(this._params={path:e,url:t},this._groups.length)for(let t,e,r=0,i=(o=n)?o.toArray?o.toArray():o:[],s=i.length;r<s;r++)t=i[r],(e=this._groups[r-1])&&(this._params[e]=t)
return this._cache.match=this._params}var o
return this._cache.match=null},i.prototype.statusDidSet=function(t,e){let n=this._router.busy().indexOf(this)
return clearTimeout(this._statusTimeout),t<200?(-1==n&&this._router.busy().push(this),this._statusTimeout=setTimeout(function(){return t=408},25e3)):n>=0&&t>=200&&(this._router.busy().splice(n,1),this._node&&this._node.commit&&this._node.commit(),0==this._router.busy().length&&r.emit(this._router,"ready",[this._router])),this._node&&this._node.setFlag&&this._node.setFlag("route-status","status-"+t)},i.prototype.load=function(t){var e=this
e.setStatus(102)
var n=e._handler=function(t){var r
if(n==e._handler)return e._handler=null,e.setStatus(r="number"==typeof t||t instanceof Number?t:200),r
console.log("another load has started after this")}
return t instanceof Function&&(t=t(n)),t&&t.then?t.then(n,n):n(t),e},i.prototype.resolve=function(t){var e
if(t||(t=this._router.url()),this._cache.resolveUrl==t)return this._cache.resolved
return this._cache.resolveUrl=t,this._parent&&"/"!=this._raw[0]?(e=this._parent.test())&&(this._cache.resolved=e.path+"/"+this._raw):this._cache.resolved=""+this._raw,this._cache.resolved}},function(t,e,n){var r=n(0),i=r.createElement,o=n(2).Page,s=(n(3).Example,n(24).Marked),a=n(26).Pattern,u=(n(6).Logo,n(27).ScrimbaEmbed),h=r.defineTag("HomePage",o,function(t){t.prototype.render=function(){var t,e=this.$
return this.$open(0).setChildren(e[0]||i("div",e,0,this).flag("body").setContent([t=(t=i("div",e,1,0)).setId("hero").flag("dark").setContent([this._pattern=this._pattern||i(a,t).flag("pattern"),i("div",e,2,t).flag("content").setContent([i(s,e,3,2),i("nav",e,4,2).flag("buttons").setContent([i("a",e,5,4).flag("button").flag("start").setHref("/guides").setText("Get started"),i("a",e,6,4).flag("button").flag("github").setHref("https://github.com/somebee/imba").setText("Github")],2)],2)],2),i("div",e,7,0).flag("content").setContent([i(s,e,8,7).flag("section").flag("md").flag("welcome").flag("huge").flag("light").setText("# Create complex web apps with ease!\n\nImba was born to make developing web applications fun again.\nIt features a clean and readable syntax inspired by ruby,\ncompiles to readable and performant JavaScript, and works inside the existing ecosystem.\n\nImba treats DOM elements as a first-class citizens. Your declarative views are compiled to a [memoized dom](/guides/advanced/performance),\nwhich is an [order of magnitude faster](https://somebee.github.io/dom-reconciler-bench/index.html) than todays virtual \ndom implementations. We truly believe that it opens up for a new way of developing web applications."),i(u,e,9,7).setCid("cGZB2f7"),i("p",e,10,7).flag("center").setText("The interactive screencasting platform Scrimba.com is written in Imba, both frontend and backend")],2)],2),2).synced((this._pattern.end(),e[3].bindData(this.app().guide(),"hero").end(),e[5].end(),e[6].end(),e[8].end(),e[9].end(),!0))}})
e.HomePage=h},function(t,e,n){var r=n(0),i=n(25),o=new i.Renderer
o.heading=function(t,e){return"<h"+e+">"+t+"</h"+e+">"}
var s=n(3).Snippet,a=r.defineTag("Marked",function(t){t.prototype.renderer=function(){return this},t.prototype.setText=function(t){return t!=this._text&&(this._text=t,this.dom().innerHTML=i(t,{renderer:o})),this},t.prototype.setContent=function(t,e){return this.setText(t,0),this},t.prototype.setData=function(t){return t&&t!=this._data&&(this._data=t,this.dom().innerHTML=t.body,this.awakenSnippets()),this},t.prototype.awakenSnippets=function(){for(let e,n=0,r=(t=this.dom().querySelectorAll(".snippet"))?t.toArray?t.toArray():t:[],i=r.length;n<i;n++){(e=r[n]).textContent
s.replace(e)}var t
return this}})
e.Marked=a},function(t,e,n){(function(e){(function(){"use strict"
var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:p,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/}
function n(t){this.tokens=[],this.tokens.links={},this.options=t||f.defaults,this.rules=e.normal,this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,e.item=u(e.item,"gm")(/bull/g,e.bullet)(),e.list=u(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")(),e.blockquote=u(e.blockquote)("def",e.def)(),e._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",e.html=u(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)(),e.paragraph=u(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)(),e.normal=d({},e),e.gfm=d({},e.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),e.gfm.paragraph=u(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")(),e.tables=d({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=e,n.lex=function(t,e){return new n(e).lex(t)},n.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},n.prototype.token=function(t,n,r){var i,o,s,a,u,h,c,l,p
for(t=t.replace(/^ +$/gm,"");t;)if((s=this.rules.newline.exec(t))&&(t=t.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(t))t=t.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")})
else if(s=this.rules.fences.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""})
else if(s=this.rules.heading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]})
else if(n&&(s=this.rules.nptable.exec(t))){for(t=t.substring(s[0].length),h={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},l=0;l<h.align.length;l++)/^ *-+: *$/.test(h.align[l])?h.align[l]="right":/^ *:-+: *$/.test(h.align[l])?h.align[l]="center":/^ *:-+ *$/.test(h.align[l])?h.align[l]="left":h.align[l]=null
for(l=0;l<h.cells.length;l++)h.cells[l]=h.cells[l].split(/ *\| */)
this.tokens.push(h)}else if(s=this.rules.lheading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]})
else if(s=this.rules.hr.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"hr"})
else if(s=this.rules.blockquote.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,n,!0),this.tokens.push({type:"blockquote_end"})
else if(s=this.rules.list.exec(t)){for(t=t.substring(s[0].length),a=s[2],this.tokens.push({type:"list_start",ordered:a.length>1}),i=!1,p=(s=s[0].match(this.rules.item)).length,l=0;l<p;l++)c=(h=s[l]).length,~(h=h.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&l!==p-1&&(a===(u=e.bullet.exec(s[l+1])[0])||a.length>1&&u.length>1||(t=s.slice(l+1).join("\n")+t,l=p-1)),o=i||/\n\n(?!\s*$)/.test(h),l!==p-1&&(i="\n"===h.charAt(h.length-1),o||(o=i)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(h,!1,r),this.tokens.push({type:"list_item_end"})
this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(t))t=t.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]})
else if(!r&&n&&(s=this.rules.def.exec(t)))t=t.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]}
else if(n&&(s=this.rules.table.exec(t))){for(t=t.substring(s[0].length),h={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<h.align.length;l++)/^ *-+: *$/.test(h.align[l])?h.align[l]="right":/^ *:-+: *$/.test(h.align[l])?h.align[l]="center":/^ *:-+ *$/.test(h.align[l])?h.align[l]="left":h.align[l]=null
for(l=0;l<h.cells.length;l++)h.cells[l]=h.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)
this.tokens.push(h)}else if(n&&(s=this.rules.paragraph.exec(t)))t=t.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]})
else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"text",text:s[0]})
else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))
return this.tokens}
var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,url:p,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:p,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/}
function i(t,e){if(this.options=e||f.defaults,this.links=t,this.rules=r.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.")
this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function o(t){this.options=t||{}}function s(t){this.tokens=[],this.token=null,this.options=t||f.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(r,i),n):new RegExp(t,e)}}function h(t,e){return c[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?c[" "+t]=t+"/":c[" "+t]=t.replace(/[^/]*$/,"")),t=c[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}r._inside=/(?:\[[^\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=u(r.link)("inside",r._inside)("href",r._href)(),r.reflink=u(r.reflink)("inside",r._inside)(),r.normal=d({},r),r.pedantic=d({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=d({},r.normal,{escape:u(r.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(r.text)("]|","~]|")("|","|https?://|")()}),r.breaks=d({},r.gfm,{br:u(r.br)("{2,}","*")(),text:u(r.gfm.text)("{2,}","*")()}),i.rules=r,i.output=function(t,e,n){return new i(e,n).output(t)},i.prototype.output=function(t){for(var e,n,r,i,o="";t;)if(i=this.rules.escape.exec(t))t=t.substring(i[0].length),o+=i[1]
else if(i=this.rules.autolink.exec(t))t=t.substring(i[0].length),"@"===i[2]?(n=a(":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1])),r=this.mangle("mailto:")+n):r=n=a(i[1]),o+=this.renderer.link(r,null,n)
else if(this.inLink||!(i=this.rules.url.exec(t))){if(i=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),t=t.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):a(i[0]):i[0]
else if(i=this.rules.link.exec(t))t=t.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1
else if((i=this.rules.reflink.exec(t))||(i=this.rules.nolink.exec(t))){if(t=t.substring(i[0].length),e=(i[2]||i[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=i[0].charAt(0),t=i[0].substring(1)+t
continue}this.inLink=!0,o+=this.outputLink(i,e),this.inLink=!1}else if(i=this.rules.strong.exec(t))t=t.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]))
else if(i=this.rules.em.exec(t))t=t.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]))
else if(i=this.rules.code.exec(t))t=t.substring(i[0].length),o+=this.renderer.codespan(a(i[2].trim(),!0))
else if(i=this.rules.br.exec(t))t=t.substring(i[0].length),o+=this.renderer.br()
else if(i=this.rules.del.exec(t))t=t.substring(i[0].length),o+=this.renderer.del(this.output(i[1]))
else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),o+=this.renderer.text(a(this.smartypants(i[0])))
else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(i[0].length),r=n=a(i[1]),o+=this.renderer.link(r,null,n)
return o},i.prototype.outputLink=function(t,e){var n=a(e.href),r=e.title?a(e.title):null
return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,a(t[1]))},i.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},i.prototype.mangle=function(t){if(!this.options.mangle)return t
for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";"
return n},o.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e)
null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(n?t:a(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:a(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,e){var n=e?"ol":"ul"
return"<"+n+">\n"+t+"</"+n+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,e){var n=e.header?"th":"td"
return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent((i=t,i.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}var i
this.options.baseUrl&&!l.test(t)&&(t=h(this.options.baseUrl,t))
var o='<a href="'+t+'"'
return e&&(o+=' title="'+e+'"'),o+=">"+n+"</a>"},o.prototype.image=function(t,e,n){this.options.baseUrl&&!l.test(t)&&(t=h(this.options.baseUrl,t))
var r='<img src="'+t+'" alt="'+n+'"'
return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},o.prototype.text=function(t){return t},s.parse=function(t,e,n){return new s(e,n).parse(t)},s.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.reverse()
for(var e="";this.next();)e+=this.tok()
return e},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text
return this.inline.output(t)},s.prototype.tok=function(){switch(this.token.type){case"space":return""
case"hr":return this.renderer.hr()
case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)
case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)
case"table":var t,e,n,r,i="",o=""
for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]})
for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]})
o+=this.renderer.tablerow(n)}return this.renderer.table(i,o)
case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok()
return this.renderer.blockquote(o)
case"list_start":o=""
for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok()
return this.renderer.list(o,s)
case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok()
return this.renderer.listitem(o)
case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok()
return this.renderer.listitem(o)
case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text)
return this.renderer.html(a)
case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text))
case"text":return this.renderer.paragraph(this.parseText())}}
var c={},l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i
function p(){}function d(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])
return t}function f(t,e,r){if(r||"function"==typeof e){r||(r=e,e=null)
var i,o,u=(e=d({},f.defaults,e||{})).highlight,h=0
try{i=n.lex(t,e)}catch(t){return r(t)}o=i.length
var c=function(t){if(t)return e.highlight=u,r(t)
var n
try{n=s.parse(i,e)}catch(e){t=e}return e.highlight=u,t?r(t):r(null,n)}
if(!u||u.length<3)return c()
if(delete e.highlight,!o)return c()
for(;h<i.length;h++)!function(t){"code"!==t.type?--o||c():u(t.text,t.lang,function(e,n){return e?c(e):null==n||n===t.text?--o||c():(t.text=n,t.escaped=!0,void(--o||c()))})}(i[h])}else try{return e&&(e=d({},f.defaults,e)),s.parse(n.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(e||f.defaults).silent)return"<p>An error occurred:</p><pre>"+a(t.message+"",!0)+"</pre>"
throw t}}p.exec=p,f.options=f.setOptions=function(t){return d(f.defaults,t),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1,baseUrl:null},f.Parser=s,f.parser=s.parse,f.Renderer=o,f.Lexer=n,f.lexer=n.lex,f.InlineLexer=i,f.inlineLexer=i.output,f.parse=f,t.exports=f}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,n(4))},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(0)
var o=i.defineTag("Pattern",function(t){t.prototype.setup=function(){var t={tags:[],keywords:[],methods:[]},e=[],n=[]
for(let n,r,o=i.Tag.prototype,s=0,a=Object.keys(o),u=a.length;s<u;s++)n=o[r=a[s]],e.push("<em>"+r+"</em>"),t.methods.push("<em>"+r+"</em>")
for(let n,o=0,s=r(i.HTML_TAGS||HTML_TAGS),a=s.length;o<a;o++)n=s[o],e.push("<u>&lt;"+n+"&gt;</u>"),t.tags.push("<u>&lt;"+n+"&gt;</u>")
for(let n,i=0,o=r("def if else elif while until for in of var let class extend export import tag global".split(" ")),s=o.length;i<s;i++)n=o[i],e.push("<i>"+n+"</i>"),t.keywords.push("<i>"+n+"</i>")
var o=function(t){for(var e,n,r=t.length;r>0;)n=Math.floor(Math.random()*r),e=t[--r],t[r]=t[n],t[n]=e
return t}(e),s=[].concat(o),a=e.length-1
for(let t=0;t<=14;t++){let e=0
for(n[t]=[];e<300;){let r=o.pop()||s[Math.floor(a*Math.random())]
r?(e+=r.length,n[t].push(r)):e=400}}return this.dom().innerHTML="<div>"+n.map(function(t,e){return"<div class='line' style='opacity: "+Math.max(0,.3*(e-2)/14).toFixed(2)+";'>"+t.join(" ")+"</div>"}).join("")+"</div>",this}})
e.Pattern=o},function(t,e,n){var r=n(0),i=r.createElement,o=r.defineTag("ScrimbaEmbed",function(t){t.prototype.cid=function(t){return this._cid},t.prototype.setCid=function(t){return this._cid=t,this},t.prototype.render=function(){var t=this.$
return this.$open(0).setChildren(t[0]||i("iframe",t,0,this),2).synced((t[0].setSrc("https://scrimba.com/c/"+this.cid()+".embed?minimal").end(),!0))}})
e.ScrimbaEmbed=o},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(0),o=i.createTagList,s=i.createTagMap,a=i.createTagLoopResult,u=i.createElement,h=n(2).Page,c=n(3).Snippet,l=i.defineTag("Guide",function(t){t.prototype.setup=function(){return this.render(),this._body.dom().innerHTML=this.data().body,this.awakenSnippets(),this},t.prototype.render=function(){var t,e,n=this.$
return this.$open(0).flag("md").setChildren(n.$=n.$||[this._body=this._body||u("div",this).flag("body"),u("footer",n,0,this)],2).synced((n[0].setContent([(t=this.app().guide()[this.data().prev])?(n[1]||u("a",n,1,0).flag("prev")).setHref("/guides/"+t.id).setText(" "+t.title).end():void 0,(e=this.app().guide()[this.data().next])?(n[2]||u("a",n,2,0).flag("next")).setHref("/guides/"+e.id).setContent(e.title+" ",3).end():void 0],1),!0))},t.prototype.awakenSnippets=function(){for(let t=0,e=r(this.dom().querySelectorAll(".snippet")),n=e.length;t<n;t++)c.replace(e[t])
return this}}),p=i.defineTag("TOC","li",function(t){t.prototype.toc=function(t){return this._toc},t.prototype.setToc=function(t){return this._toc=t,this},t.prototype.__expanded={default:!0,name:"expanded"},t.prototype.expanded=function(t){return this._expanded},t.prototype.setExpanded=function(t){return this._expanded=t,this},t.prototype._expanded=!0,t.prototype.level=function(t){return this.getAttribute("level")},t.prototype.setLevel=function(t){return this.setAttribute("level",t),this},t.prototype.route=function(){return"/guides/"+this.data().route+(this._toc?"#"+this.toc().slug:"")},t.prototype.toc=function(){return this._toc||this.data().toc[0]},t.prototype.render=function(){var t=this.$,e=this
return e.$open(0).flag("toc").flag("entry").setLevel(e.toc().level).setChildren([(t[0]||u("a",t,0,e)).setRouteTo(e.route()).setContent(e.toc().title,3).end(),e.toc().children.length&&e.toc().level<2&&e.router().match(e.route())?(t[1]||u("ul",t,1,e)).setContent(function(t){var n=t.$iter()
for(let i,o=0,s=r(e.toc().children),a=s.length;o<a;o++)(i=s[o]).level>=3||n.push((t[o]||u(p,t,o)).bindData(e,"data",[]).setToc(i).end())
return n}(t[2]||s(t,2,t[1])),5):void 0],1).synced()}}),d=i.defineTag("GuidePage",function(t){t.prototype.load=function(t){return this.setData(this.app().guide()[t.guide+"/"+t.section]),window.scrollTo(0,0),200},t.prototype.render=function(){var t,e=this.$
return this.$open(0).setChildren(this.data()?(e[t="0$"+this.data().id]||u(l,e,t,this)).bindData(this,"data",[]).end():void 0,3).synced()}}),f=i.defineTag("GuidesPage",h,function(t){t.prototype.guide=function(t){return this._guide},t.prototype.setGuide=function(t){return this._guide=t,this},t.prototype.mount=function(){var t=this
return t._onscroll||(t._onscroll=function(){return t.scrolled()}),window.addEventListener("scroll",t._onscroll,{passive:!0})},t.prototype.unmount=function(){return window.removeEventListener("scroll",this._onscroll,{passive:!0})},t.prototype.guide=function(){let t=this.params().url||"/guides/essentials/introduction"
return this.data()[t.replace("/guides/","")]},t.prototype.scrolled=function(){var t,e,n=this.dom().querySelectorAll("[id]"),i=window.pageYOffset,o=window.innerHeight,s=document.body.scrollHeight
if(this._scrollFreeze>=0){if(Math.abs(i-this._scrollFreeze)<50)return this
this._scrollFreeze=-1}if(0==s-(i+o))t=n[(e=n,(e&&(e.len instanceof Function?e.len():e.length)||0)-1)]
else for(let e,o=0,s=r(n),a=s.length;o<a;o++){if(i-((e=s[o]).offsetTop+30+60)<0){t=e
break}}return t&&this._hash!=t.id&&(this._hash=t.id,this.router().replace("#"+this._hash),this.render()),this},t.prototype.render=function(){var t=this.$,e=this
e.guide()
return e.$open(0).flag("_page").setChildren(t.$=t.$||[e._nav=e._nav||u("nav",e).flag("nav").setContent(t[0]||u("div",t,0,e._nav).flag("content"),2),u(d,t,3,e).flag("body").flag("light").setRoute(":guide/:section")],2).synced((t[0].setContent(function(t,n,i){var s
for(let a,h=0,c=r(e.data().toc),l=c.length;h<l;h++)a=c[h],i.push((t[h]||u("h1",t,h)).setContent(a.title||a.id,3)),i.push((s=n[h]||(s=u("ul",n,h))).setContent(function(t){for(let n=0,i=r(a.sections),o=t.taglen=i.length;n<o;n++)(t[n]||u(p,t,n)).bindData(e.data(),i[n]).end()
return t}(s.$.A||o(s.$,"A",n[h])),4))
return i}(t[1]||o(t,1,t[0]),t[2]||o(t,2,t[0]),a()),5),t[3].end(),!0))}})
e.GuidesPage=f},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(0),o=i.createTagList,s=i.createTagMap,a=i.createElement,u=n(2).Page,h=i.defineTag("Desc",function(t){t.prototype.setHtml=function(t){return t!=this._html&&(this.dom().innerHTML=this._html=t),this}}),c=(i.defineTag("Ref",function(t){t.prototype.render=function(){return this.$open(0).synced()}}),i.defineTag("Item")),l=i.defineTag("Path","span",function(t){t.prototype.short=function(t){return this._short},t.prototype.setShort=function(t){return this._short=t,this},t.prototype.setup=function(){var t=this.data()
return("string"==typeof t||t instanceof String)&&(this.short()&&(t=t.replace(/([A-Z]\w*\.)*(?=[A-Z])/g,"")),this.setHtml(t.replace(/\b([\w]+|\.|\#)\b/g,function(t,e){return"."==e||"#"==e?"<i>"+e+"</i>":e[0]==e[0].toUpperCase()?"<b class='const'>"+e+"</b>":"<b class='id'>"+e+"</b>"}))),this}}),p=i.defineTag("Return",function(t){t.prototype.name=function(t){return this.getAttribute("name")},t.prototype.setName=function(t){return this.setAttribute("name",t),this},t.prototype.render=function(){var t=this.$
return this.$open(0).setChildren(t.$=t.$||[a(l,t,0,this).flag("value"),a("span",t,1,this).flag("desc")],2).synced((t[0].bindData(this.data(),"value").end(),t[1].setContent(this.data().desc,3),!0))}}),d=i.defineTag("Class",c,function(t){t.prototype.__data={watch:"parse",name:"data"},t.prototype.data=function(t){return this._data},t.prototype.setData=function(t){var e=this.data()
return t!=e&&(this._data=t),t!=e&&this.parse&&this.parse(t,e,this.__data),this},t.prototype.parse=function(){let t=[]
for(let e,n=0,i=r(this.data()["."]),o=i.length;n<o;n++)(e=i[n]).desc&&t.push(e)
this._statics=t
let e=[]
for(let t,n=0,i=r(this.data()["#"]),o=i.length;n<o;n++)(t=i[n]).desc&&e.push(t)
return this._methods=e,this._properties=[],this},t.prototype.render=function(){var t=this.$,e=this
return e.$open(0).setChildren([(t[0]||a("span",t,0,e).flag("toc-anchor")).setId(e.pathToAnchor(e.data().namepath)).end(),(t[1]||a("div",t,1,e).flag("header").setContent(t[2]||a("div",t,2,1).flag("title").setContent(t[3]||a(l,t,3,2),2),2)).end((t[3].bindData(e.data(),"namepath").end(),!0)),(t[4]||a(h,t,4,e)).setHtml(e.data().html).end(),e.data().ctor?(t[5]||a("div",t,5,e).flag("content").flag("ctor").setContent(t[6]||a(_,t,6,5),2)).end((t[6].bindData(e.data(),"ctor").setPath(e.data().namepath+".new").end(),!0)):void 0,(t[7]||a("div",t,7,e).flag("content")).setContent([e._statics.length>0?(t[8]||a("div",t,8,7).flag("section").setContent([a("h2",t,9,8).flag("header").setText("Static Methods"),a("div",t,10,8).flag("content").flag("list")],2)).end((t[10].setContent(function(t){for(let n=0,i=r(e._statics),o=t.taglen=i.length;n<o;n++)(t[n]||a(_,t,n).flag("doc")).setData(i[n]).setIname(e.data().namepath).end()
return t}(t[11]||o(t,11,t[10])),4),!0)):void 0,e._methods.length>0?(t[12]||a("div",t,12,7).flag("section").setContent([a("h2",t,13,12).flag("header").setText("Instance Methods"),a("div",t,14,12).flag("content").flag("list")],2)).end((t[14].setContent(function(t){for(let n=0,i=r(e._methods),o=t.taglen=i.length;n<o;n++)(t[n]||a(_,t,n).flag("doc")).setData(i[n]).setIname(e.data().iname).end()
return t}(t[15]||o(t,15,t[14])),4),!0)):void 0],1)],1).synced()}}),f=i.defineTag("Value",function(t){t.prototype.render=function(){var t,e
return this.data().type?this.$open(0).setFlag(-1,this.data().type).setChildren(this.data().value,3).synced():"string"==typeof(t=this.data())||t instanceof String?this.$open(1).flag("str").setText(this.data()).synced():("number"==typeof(e=this.data())||e instanceof Number)&&this.$open(2).flag("num").setText(this.data()).synced(),this}}),g=i.defineTag("Param",function(t){t.prototype.type=function(){return this.data().type},t.prototype.render=function(){var t=this,e=this.$
return t.$open(0).setFlag(-1,t.type()).setChildren("NamedParams"==t.type()?function(e){for(let n=0,i=r(t.data().nodes),o=e.taglen=i.length;n<o;n++)(e[n]||a(g,e,n)).setData(i[n]).end()
return e}(e[0]||o(e,0)):i.static([(e[1]||a("div",e,1,t).flag("name")).setContent(t.data().name,3),t.data().defaults?i.static([(e[2]||a("i",e,2,t)).setContent("NamedParam"==t.type()?": ":" = ",3),(e[3]||a(f,e,3,t)).bindData(t.data(),"defaults").end()],2,1):void 0],1,2),3).synced()}}),_=i.defineTag("Method",c,function(t){t.prototype.iname=function(t){return this._iname},t.prototype.setIname=function(t){return this._iname=t,this},t.prototype.path=function(t){return this._path},t.prototype.setPath=function(t){return this._path=t,this},t.prototype.tags=function(){let t
this.$$||(this.$$={})
return(t=this._tags=this._tags||(t=a("div",this)).flag("tags")).setContent([this.data().return?(t.$.A||a(p,t.$,"A",t).setName("returns")).bindData(this.data(),"return").end():void 0,this.data().deprecated?t.$.B||a("div",t.$,"B",t).flag("deprecated").flag("red").setText("Method is deprecated"):void 0,this.data().private?t.$.C||a("div",t.$,"C",t).flag("private").flag("red").setText("Method is private"):void 0],1)},t.prototype.path=function(){return this._path||this.iname()+"."+this.data().name},t.prototype.slug=function(){return this.pathToAnchor(this.data().namepath)},t.prototype.render=function(){var t=this.$,e=this
return e.$open(0).flagIf("deprecated",e.data().deprecated).setChildren([t[0]||a("span",t,0,e).flag("toc-anchor"),t[1]||a("div",t,1,e).flag("header").setContent([a(l,t,2,1),a("div",t,3,1).flag("params"),a("div",t,5,1).flag("grow")],2),t[6]||a(h,t,6,e).flag("md"),e.tags()],1).synced((t[0].setId(e.slug()).end(),t[2].bindData(e,"path",[]).end(),t[3].setContent(function(t){for(let n=0,i=r(e.data().params),o=t.taglen=i.length;n<o;n++)(t[n]||a(g,t,n)).setData(i[n]).end()
return t}(t[4]||o(t,4,t[3])),4),t[6].setHtml(e.data().html).end(),!0))}}),m=i.defineTag("Link","a",function(t){t.prototype.short=function(t){return this._short},t.prototype.setShort=function(t){return this._short=t,this},t.prototype.render=function(){var e=this.$
return this.$open(0).setHref("/docs#"+this.pathToAnchor(this.data().namepath)).setChildren(e[0]||a(l,e,0,this),2).synced((e[0].bindData(this.data(),"namepath").setShort(this.short()).end(),!0)),t.prototype.__super__.render.apply(this,arguments)},t.prototype.ontap=function(){return t.prototype.__super__.ontap.apply(this,arguments),this.trigger("refocus")}}),y=i.defineTag("Group",function(t){t.prototype.ontap=function(){return this.toggleFlag("collapsed")}}),v=i.defineTag("DocsPage",u,function(t){t.prototype.__version={default:"current",name:"version"},t.prototype.version=function(t){return this._version},t.prototype.setVersion=function(t){return this._version=t,this},t.prototype._version="current",t.prototype.roots=function(t){return this._roots},t.prototype.setRoots=function(t){return this._roots=t,this},t.prototype.src=function(){return"/api/"+this.version()+".json"},t.prototype.docs=function(){return this._docs},t.prototype.setup=function(){return this.load(),t.prototype.__super__.setup.apply(this,arguments)},t.prototype.load=async function(){var t=await this.app().fetch(this.src())
return DOCS=this._docs=JSON.parse(JSON.stringify(t)),DOCMAP=this._docs.entities,this.generate(),this.loaded()},t.prototype.loaded=function(){var t
return this.render(),document.location.hash&&(t=this.dom().querySelector(document.location.hash))&&t.scrollIntoView(),this},t.prototype.onrefocus=function(t){return this.refocus()},t.prototype.refocus=function(){var t
return(t=this.dom().querySelector(document.location.hash))&&t.scrollIntoView(),this},t.prototype.lookup=function(t){return this.docs().entities[t]},t.prototype.generate=function(){this._roots=[]
var t=this._docs.entities
for(let e,n,r=this.docs().entities,i=0,o=Object.keys(r),s=o.length;i<s;i++)"class"!=(e=r[n=o[i]]).type&&"Imba"!=n||(e["."]=(e["."]||[]).sort().map(function(e){return t[e]}).filter(function(t){return"method"==t.type&&t.desc}),e["#"]=(e["#"]||[]).sort().map(function(e){return t[e]}).filter(function(t){return"method"==t.type&&t.desc}),e.desc&&this._roots.push(e))
return this},t.prototype.render=function(){var t=this.$,e=this
return e.docs()?e.$open(0).setChildren(t.$=t.$||[e._nav=e._nav||a("nav",e).flag("nav").setContent(t[0]||a("div",t,0,e._nav).flag("content"),2),a("div",t,2,e).flag("body")],2).synced((t[0].setContent(function(t){var n
for(let i,o=0,u=r(e.roots()),h=t.taglen=u.length;o<h;o++)i=u[o],(n=t[o]||(n=a(y,t,o)).flag("toc").flag("class").flag("section").flag("compact").setContent([a("div",n.$,"A",n).flag("header").setContent(n.$.B||a(m,n.$,"B","A").flag("class"),2),a("div",n.$,"C",n).flag("content").setContent([a("div",n.$,"D","C").flag("static"),a("div",n.$,"F","C").flag("instance")],2)],2)).end((n.$.B.setData(i).end(),n.$.D.setContent(function(t){var e,n=t.$iter()
for(let o,s=0,u=r(i["."]),h=u.length;s<h;s++)(o=u[s]).desc&&!o.private&&n.push((e=t[s]||(e=a("div",t,s)).flag("entry").setContent(e.$.A||a(m,e.$,"A",e).setShort(!0),2)).end((e.$.A.setData(o).end(),!0)))
return n}(n.$.E||s(n.$,"E",n.$.D)),5),n.$.F.setContent(function(t){var e,n=t.$iter()
for(let o,s=0,u=r(i["#"]),h=u.length;s<h;s++)(o=u[s]).desc&&!o.private&&n.push((e=t[s]||(e=a("div",t,s)).flag("entry").setContent(e.$.A||a(m,e.$,"A",e).setShort(!0),2)).end((e.$.A.setData(o).end(),!0)))
return n}(n.$.G||s(n.$,"G",n.$.F)),5),!0))
return t}(t[1]||o(t,1,t[0])),4),t[2].setContent(function(t){for(let n=0,i=r(e.roots()),o=t.taglen=i.length;n<o;n++)(t[n]||a(d,t,n).flag("doc").flag("l")).setData(i[n]).end()
return t}(t[3]||o(t,3,t[2])),4),!0)):e}})
e.DocsPage=v},function(t,e){}])
